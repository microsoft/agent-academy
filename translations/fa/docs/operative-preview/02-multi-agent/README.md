<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4fb913dfc3bbc71506dd3602c4b8e6ed",
  "translation_date": "2025-10-21T17:42:22+00:00",
  "source_file": "docs/operative-preview/02-multi-agent/README.md",
  "language_code": "fa"
}
-->
# 🚨 مأموریت ۰۲: عوامل متصل

--8<-- "disclaimer.md"

## 🕵️‍♂️ نام رمز: `عملیات سمفونی`

> **⏱️ زمان عملیات:** `~۴۵ دقیقه`

## 🎯 خلاصه مأموریت

خوش آمدید، مأمور. در مأموریت ۰۱، شما عامل اصلی استخدام خود را ساختید - یک پایه محکم برای مدیریت جریان‌های کاری استخدام. اما یک عامل تنها نمی‌تواند همه کارها را انجام دهد.

وظیفه شما، اگر تصمیم به پذیرش آن دارید، **عملیات سمفونی** است - تبدیل عامل تک‌نفره شما به یک **سیستم چندعاملی**: یک تیم هماهنگ از عوامل تخصصی که با هم کار می‌کنند تا چالش‌های پیچیده استخدام را مدیریت کنند. این را مانند ارتقاء از یک اپراتور تنها به فرماندهی یک نیروی وظیفه تخصصی تصور کنید.

مانند یک ارکستر سمفونی که هر نوازنده نقش خود را با هماهنگی کامل ایفا می‌کند، شما دو متخصص حیاتی به عامل استخدام موجود خود اضافه خواهید کرد: یک عامل پذیرش درخواست برای پردازش خودکار رزومه‌ها و یک عامل آماده‌سازی مصاحبه برای ایجاد مواد جامع مصاحبه. این عوامل به طور یکپارچه تحت فرماندهی اصلی شما کار خواهند کرد.

## 🔎 اهداف

در این مأموریت، شما یاد خواهید گرفت:

1. زمان استفاده از **عوامل فرعی** در مقابل **عوامل متصل**
1. نحوه طراحی **معماری‌های چندعاملی** که قابلیت گسترش دارند  
1. ایجاد **عوامل فرعی** برای وظایف متمرکز
1. برقراری **الگوهای ارتباطی** بین عوامل
1. ساخت عامل پذیرش درخواست و عامل آماده‌سازی مصاحبه

## 🧠 عوامل متصل چیستند؟

در Copilot Studio، شما محدود به ساخت عوامل تک‌نفره و یکپارچه نیستید. شما می‌توانید **سیستم‌های چندعاملی** ایجاد کنید - شبکه‌هایی از عوامل تخصصی که با هم کار می‌کنند تا جریان‌های کاری پیچیده را مدیریت کنند.

این را مانند یک سازمان واقعی تصور کنید: به جای اینکه یک نفر همه کارها را انجام دهد، شما متخصصانی دارید که در وظایف خاصی مهارت دارند و در صورت نیاز همکاری می‌کنند.

### چرا سیستم‌های چندعاملی مهم هستند

- **قابلیت گسترش:** هر عامل می‌تواند به طور مستقل توسط تیم‌های مختلف توسعه، آزمایش و نگهداری شود.  
- **تخصص:** عوامل می‌توانند بر روی کاری که بهترین انجام می‌دهند تمرکز کنند. شاید یکی برای پردازش داده‌ها، دیگری برای تعامل با کاربر، و دیگری برای تصمیم‌گیری.  
- **انعطاف‌پذیری:** شما می‌توانید عوامل را ترکیب و تطبیق دهید، آنها را در پروژه‌های مختلف استفاده کنید و سیستم خود را به تدریج تکامل دهید.  
- **نگهداری‌پذیری:** تغییرات در یک عامل لزوماً بر دیگران تأثیر نمی‌گذارد، که به‌روزرسانی‌ها را ایمن‌تر و آسان‌تر می‌کند.

### مثال واقعی: فرآیند استخدام

در نظر بگیرید که جریان کاری استخدام ما - عوامل مختلف ممکن است با مسئولیت‌های زیر با هم کار کنند:

- **پذیرش رزومه** نیاز به مهارت‌های تجزیه و تحلیل اسناد و استخراج داده دارد
- **امتیازدهی** شامل ارزیابی رزومه‌های کاندیداها و تطبیق آنها با الزامات شغلی است
- **آماده‌سازی مصاحبه** نیاز به استدلال عمیق درباره تناسب کاندیدا دارد  
- **ارتباط با کاندیدا** نیاز به توانایی‌های ارتباطی همدلانه دارد

به جای ساخت یک عامل عظیم که تلاش می‌کند همه این مهارت‌های مختلف را مدیریت کند، شما می‌توانید عوامل تخصصی برای هر بخش ایجاد کنید و آنها را با هم هماهنگ کنید.

## 🔗 عوامل فرعی در مقابل عوامل متصل: تفاوت کلیدی

Copilot Studio دو روش برای ساخت سیستم‌های چندعاملی ارائه می‌دهد، هر کدام با موارد استفاده خاص خود:

### ↘️ عوامل فرعی

عوامل فرعی **متخصصان سبک‌وزن** هستند که درون عامل اصلی شما زندگی می‌کنند. آنها را مانند تیم‌های تخصصی در یک بخش تصور کنید.

#### جزئیات فنی کلیدی

- عوامل فرعی درون عامل اصلی زندگی می‌کنند و یک صفحه تنظیمات واحد دارند.
- ابزارها و دانش **در عامل اصلی ذخیره می‌شوند**، اما برای عامل فرعی "در دسترس" تنظیم می‌شوند.
- عوامل فرعی **موضوعات عامل اصلی خود را به اشتراک می‌گذارند**. موضوعات می‌توانند توسط دستورالعمل‌های عامل فرعی ارجاع شوند.
- عوامل فرعی **نیاز به انتشار جداگانه ندارند** - آنها به طور خودکار درون عامل اصلی خود در دسترس هستند. این کار آزمایش را آسان‌تر می‌کند زیرا تغییرات در عامل اصلی و عوامل فرعی می‌توانند در **همان فضای کاری مشترک** انجام شوند.

#### از عوامل فرعی استفاده کنید وقتی که

- یک تیم واحد کل راه‌حل را مدیریت می‌کند
- شما می‌خواهید ابزارها و دانش را به طور منطقی به عوامل فرعی سازماندهی کنید
- نیازی به احراز هویت یا استقرار جداگانه برای هر عامل ندارید
- عوامل به طور جداگانه منتشر نمی‌شوند یا به طور مستقل استفاده نمی‌شوند
- نیازی به استفاده مجدد از عوامل در چندین راه‌حل ندارید

**مثال:** یک عامل میز کمک IT با عوامل فرعی برای:

- روش‌های بازنشانی رمز عبور
- عیب‌یابی سخت‌افزار  
- راهنمای نصب نرم‌افزار

### 🔀 عوامل متصل

عوامل متصل **عوامل مستقل و کامل** هستند که عامل اصلی شما می‌تواند با آنها همکاری کند. آنها را مانند بخش‌های جداگانه‌ای تصور کنید که با هم روی یک پروژه کار می‌کنند.

#### جزئیات فنی کلیدی

- عوامل متصل **موضوعات و جریان‌های مکالمه خود را دارند**. آنها به طور مستقل با تنظیمات، منطق و چرخه عمر استقرار خود عمل می‌کنند.
- عوامل متصل **باید منتشر شوند** قبل از اینکه بتوانند به عامل‌های دیگر اضافه شوند و استفاده شوند.
- در طول آزمایش، تغییرات در عامل متصل باید منتشر شوند قبل از اینکه بتوانند توسط عامل فراخواننده استفاده شوند.

#### از عوامل متصل استفاده کنید وقتی که

- تیم‌های مختلف عوامل مختلف را به طور مستقل توسعه و نگهداری می‌کنند
- عوامل نیاز به تنظیمات، احراز هویت و کانال‌های استقرار خود دارند
- شما می‌خواهید عوامل را به طور جداگانه منتشر و نگهداری کنید با مدیریت چرخه عمر برنامه مستقل برای هر عامل
- عوامل باید در چندین راه‌حل استفاده شوند

**مثال:** یک سیستم خدمات مشتری که به:

- یک عامل صورتحساب جداگانه که توسط تیم مالی نگهداری می‌شود
- یک عامل پشتیبانی فنی جداگانه که توسط تیم محصول نگهداری می‌شود
- یک عامل بازگشت جداگانه که توسط تیم عملیات نگهداری می‌شود

!!! tip "نکته"
    شما می‌توانید هر دو روش را ترکیب کنید! به عنوان مثال، عامل اصلی شما می‌تواند به عوامل خارجی از تیم‌های دیگر متصل شود در حالی که عوامل فرعی خود را برای وظایف داخلی تخصصی داشته باشد.

## 🎯 الگوهای معماری چندعاملی

هنگام طراحی سیستم‌های چندعاملی، چندین الگو بر اساس نحوه تعامل عوامل ظاهر می‌شوند:

| الگو                | توضیحات                                                                 | بهترین برای                                                      |
|----------------------|-------------------------------------------------------------------------|-------------------------------------------------------------------|
| **مرکز و شعاع**     | یک عامل هماهنگ‌کننده اصلی با چندین عامل تخصصی هماهنگی می‌کند. هماهنگ‌کننده تعامل کاربر را مدیریت می‌کند و وظایف را به عوامل فرعی یا متصل واگذار می‌کند. | جریان‌های کاری پیچیده که یک عامل وظایف تخصصی را هماهنگ می‌کند |
| **خط لوله**         | عوامل کار را به صورت متوالی از یکی به دیگری منتقل می‌کنند، هر کدام قبل از انتقال به مرحله بعدی ارزش اضافه می‌کنند. | فرآیندهای خطی مانند پردازش درخواست (پذیرش → غربالگری → مصاحبه → تصمیم‌گیری) |
| **همکاری**          | عوامل به طور همزمان روی جنبه‌های مختلف یک مشکل کار می‌کنند، زمینه و نتایج را به اشتراک می‌گذارند. | تحلیل پیچیده که نیاز به دیدگاه‌ها یا حوزه‌های تخصصی متعدد دارد |

!!! tip "نکته"
    شما حتی ممکن است ترکیبی از دو یا چند الگو داشته باشید.

## 💬ارتباط عوامل و اشتراک‌گذاری زمینه

وقتی عوامل با هم کار می‌کنند، باید اطلاعات را به طور مؤثر به اشتراک بگذارند. در اینجا نحوه کار این موضوع در Copilot Studio آمده است:

### تاریخچه مکالمه

به طور پیش‌فرض، وقتی یک عامل اصلی یک عامل فرعی یا متصل را فراخوانی می‌کند، می‌تواند **تاریخچه مکالمه** را منتقل کند. این به عامل تخصصی زمینه کامل درباره آنچه کاربر در حال بحث است می‌دهد.

شما می‌توانید این را به دلایل امنیتی یا عملکردی غیرفعال کنید - به عنوان مثال، اگر عامل تخصصی فقط نیاز به انجام یک وظیفه خاص بدون نیاز به زمینه کامل مکالمه دارد. این می‌تواند یک دفاع خوب در برابر **نشت داده‌ها** باشد.

### دستورالعمل‌های صریح

عامل اصلی شما می‌تواند **دستورالعمل‌های خاصی** به عوامل فرعی یا متصل بدهد. به عنوان مثال: "این رزومه را پردازش کن و مهارت‌های آنها را برای نقش توسعه‌دهنده ارشد خلاصه کن."

### مقادیر بازگشتی

عوامل می‌توانند اطلاعات ساختاریافته‌ای را به عامل فراخواننده بازگردانند، که به عامل اصلی اجازه می‌دهد از آن اطلاعات در مراحل بعدی استفاده کند یا آن را با عوامل دیگر به اشتراک بگذارد.

### یکپارچگی با Dataverse

برای سناریوهای پیچیده‌تر، عوامل می‌توانند اطلاعات را از طریق **Dataverse** یا سایر ذخیره‌گاه‌های داده به اشتراک بگذارند، که امکان اشتراک‌گذاری زمینه پایدار در چندین تعامل را فراهم می‌کند.

## ↘️عامل فرعی: عامل پذیرش درخواست

بیایید سیستم چندعاملی استخدام خود را شروع کنیم. متخصص اول ما **عامل پذیرش درخواست** خواهد بود - یک عامل فرعی مسئول پردازش رزومه‌ها و اطلاعات کاندیداهای ورودی.

```mermaid
---
config:
  layout: elk
  look: neo
---
flowchart TB
 subgraph People["People"]
    direction TB
        HiringManager["Hiring Manager"]
        Interviewers["Interviewers"]
  end
 subgraph Agents["Agents"]
    direction LR
        ApplicationIntakeAgent["Application Intake Agent<br>(Child)"]
        InterviewAgent["Interview Agent<br>(Connected)"]
        HRAgent["HR Agent"]
  end
    HiringManager -- Upload CV --> HRAgent
    HRAgent -- Upload Resume, Create Candidate, Match to Job Roles --> ApplicationIntakeAgent
    ApplicationIntakeAgent -- Create Resume, Upsert Candidate, Create Job Application --> Dataverse["Dataverse"]
    ApplicationIntakeAgent -- Store Resume file in file column --> Dataverse
    HiringManager -- Ask for summaries --> HRAgent
    Interviewers -- Request interview pack --> HRAgent
    HRAgent -- Generate interview pack and summarize data --> InterviewAgent
    InterviewAgent -- Read all Candidate, Resume, Job Roles, Evaluation Criteria Data --> Dataverse
     HiringManager:::person
     Interviewers:::person
     ApplicationIntakeAgent:::agent
     InterviewAgent:::agent
     HRAgent:::agent
     Dataverse:::data
    classDef person fill:#e6f0ff,stroke:#3b82f6,color:#0b3660
    classDef agent fill:#e8f9ef,stroke:#10b981,color:#064e3b
    classDef data  fill:#f3f4f6,stroke:#6b7280,color:#111827
```

### 🤝مسئولیت‌های عامل پذیرش درخواست

- **تجزیه محتوای رزومه** از فایل‌های PDF ارائه‌شده از طریق چت تعاملی (در مأموریت آینده یاد خواهید گرفت که چگونه رزومه‌ها را به صورت خودکار پردازش کنید).
- **استخراج داده‌های ساختاریافته** (نام، مهارت‌ها، تجربه، تحصیلات)
- **تطبیق کاندیداها با نقش‌های باز** بر اساس صلاحیت‌ها و نامه پوششی
- **ذخیره اطلاعات کاندیدا** در Dataverse برای پردازش بعدی
- **حذف تکرار درخواست‌ها** برای جلوگیری از ایجاد کاندیدای مشابه، تطبیق با سوابق موجود با استفاده از آدرس ایمیل استخراج‌شده از رزومه.

### ⭐چرا این باید یک عامل فرعی باشد

عامل پذیرش درخواست کاملاً به عنوان یک عامل فرعی مناسب است زیرا:

- برای پردازش اسناد و استخراج داده‌ها تخصصی است
- نیازی به انتشار جداگانه ندارد  
- بخشی از راه‌حل کلی استخدام ما است که توسط همان تیم مدیریت می‌شود
- بر روی یک محرک خاص (رزومه جدید دریافت‌شده) تمرکز دارد و از عامل استخدام فراخوانی می‌شود.

## 🔀عامل متصل: عامل آماده‌سازی مصاحبه  

متخصص دوم ما **عامل آماده‌سازی مصاحبه** خواهد بود - یک عامل متصل که به ایجاد مواد جامع مصاحبه و ارزیابی پاسخ‌های کاندیدا کمک می‌کند.

### 🤝مسئولیت‌های عامل آماده‌سازی مصاحبه

- **ایجاد بسته‌های مصاحبه** با اطلاعات شرکت، الزامات نقش و معیارهای ارزیابی
- **تولید سوالات مصاحبه** متناسب با نقش‌های خاص و پیشینه کاندیداها
- **پاسخ به سوالات عمومی** درباره نقش‌های شغلی و درخواست‌ها برای ارتباط با ذینفعان

### ⭐چرا این باید یک عامل متصل باشد

عامل آماده‌سازی مصاحبه به عنوان یک عامل متصل بهتر عمل می‌کند زیرا:

- تیم جذب استعداد ممکن است بخواهد از آن به طور مستقل در چندین فرآیند استخدام استفاده کند
- نیاز به پایگاه دانش خود درباره بهترین روش‌های مصاحبه و معیارهای ارزیابی دارد
- مدیران استخدام مختلف ممکن است بخواهند رفتار آن را برای تیم‌های خود سفارشی کنند
- می‌تواند برای موقعیت‌های داخلی، نه فقط استخدام خارجی، استفاده شود

## 🧪آزمایشگاه ۲.۱: افزودن عامل پذیرش درخواست

آماده‌اید تا نظریه را به عمل تبدیل کنید؟ بیایید اولین عامل فرعی خود را به عامل استخدام موجود اضافه کنیم.

### پیش‌نیازها برای تکمیل این مأموریت

شما باید **یکی از موارد زیر را داشته باشید**:

- **مأموریت ۰۱ را تکمیل کرده باشید** و عامل استخدام خود را آماده داشته باشید، **یا**
- **راه‌حل شروع مأموریت ۰۲ را وارد کنید** اگر تازه شروع می‌کنید یا نیاز به جبران دارید. [دانلود راه‌حل شروع مأموریت ۰۲](https://aka.ms/agent-academy)

!!! note "وارد کردن راه‌حل و داده‌های نمونه"
    اگر از راه‌حل شروع استفاده می‌کنید، به [مأموریت ۰۱](../01-get-started/README.md) مراجعه کنید برای دستورالعمل‌های دقیق درباره نحوه وارد کردن راه‌حل‌ها و داده‌های نمونه به محیط خود.

### ۲.۱.۱ تنظیم راه‌حل

1. در Copilot Studio، علامت سه نقطه (...) زیر ابزارها در ناوبری سمت چپ را انتخاب کنید.
1. **راه‌حل‌ها** را انتخاب کنید.  
    ![انتخاب راه‌حل‌ها](../../../../../translated_images/2-select-solutions.42b77407cffd37d7c8b3265f2fd8adb88053b9ebda31bdf0b22cd77ec5b7bf88.fa.png)
1. راه‌حل عملیاتی خود را پیدا کنید، علامت **سه نقطه (...)** کنار آن را انتخاب کنید و **تنظیم راه‌حل ترجیحی** را انتخاب کنید. این اطمینان حاصل خواهد کرد که تمام کارهای شما به این راه‌حل اضافه خواهد شد.  
    ![تنظیم راه‌حل ترجیحی](../../../../../translated_images/2-select-preferred-solution.4542e922555429074f49c6480f6e8345f8c8818b2549fe0cd625fa58a45aede9.fa.png)

### ۲.۱.۲ تنظیم دستورالعمل‌های عامل استخدام

1. **به Copilot Studio بروید.** اطمینان حاصل کنید که محیط شما در **انتخابگر محیط** در بالا سمت راست انتخاب شده است.

1. **عامل استخدام** خود را از مأموریت ۰۱ باز کنید

1. در بخش **دستورالعمل‌ها** در تب **نمای کلی**، **ویرایش** را انتخاب کنید و دستورالعمل‌های زیر را به بالا اضافه کنید:

    ```text
    You are the central orchestrator for the hiring process. You coordinate activities, provide summaries, and delegate work to specialized agents.
    ```

1. **ذخیره** را انتخاب کنید  
    ![دستورالعمل‌های عامل استخدام](../../../../../translated_images/2-hiring-agent-instructions.dc1fcc2513c88722145e46794f3b3cd8b96d62482090275da62679bbfb6e352a.fa.png)

1. **تنظیمات** را انتخاب کنید (بالا سمت راست)

1. اطمینان حاصل کنید که تنظیمات زیر:

    | تنظیمات | مقدار |
    |---------|-------|
    | استفاده از ارکستراسیون هوش مصنوعی تولیدی برای پاسخ‌های عامل شما | **بله** |
    | تعدیل محتوا | **متوسط** |
    | استفاده از دانش عمومی | **خاموش** |
    | استفاده از اطلاعات از وب | **خاموش** |
    | بارگذاری فایل‌ها | **روشن** |

![استفاده از ارکستراسیون تولیدی](../../../../../translated_images/2-gen-orchestration.29e616a2d5721c51953fb6bde452c1ee06f40684911a6eba44e07de41c328726.fa.png)
![تنظیمات تعدیل](../../../../../translated_images/2-set-medium-moderation.c6c0c1d6c427abac44441aad97892c84bbc43420b91c2c18e704980f604ec1b2.fa.png)
![تنظیمات دانش و وب](../../../../../translated_images/2-settings-knowledge-web.716090f708dff925ebb0d259f20734da39c831bba4df4f97bd334ce701aa92a9.fa.png)

### ۲.۱.۳ افزودن عامل فرعی پذیرش درخواست

1. **به تب عوامل** درون عامل استخدام خود بروید - اینجا جایی است که شما عوامل تخصصی را اضافه خواهید کرد.

1. **+ افزودن** را انتخاب کنید و سپس **ایجاد یک عامل**. توجه داشته باشید که این با "*ایجاد یک عامل سبک‌وزن که درون عامل فعلی شما زندگی می‌کند و تنظیمات آن را به ارث می‌برد. ایده‌آل برای شکستن منطق پیچیده*" برچسب‌گذاری شده است.  
    ![افزودن عامل فرعی](../../../../../translated_images/2-add-child-agent.47e6246572a58b85236c969c69f3bae835fd5099f4d7603abeab6b1ad9ce2a70.fa.png)

1. **نام** عامل خود را `عامل پذیرش درخواست` قرار دهید

1. **عامل انتخاب می‌کند** را انتخاب کنید - بر اساس توضیحات در منوی کشویی **چه زمانی استفاده خواهد شد؟**. این گزینه‌ها مشابه محرک‌هایی هستند که می‌توانند برای موضوعات تنظیم شوند.

1. **توضیحات** را تنظیم کنید به:

    ```text
    Processes incoming resumes and stores candidates in the system
    ```

    ![توضیحات عامل پذیرش درخواست](../../../../../translated_images/2-application-intake-agent-description.c5c0bf8ee632c04b9fb63c774f638de84cb8fa6ddf8c853cf0b651ea0e4964f0.fa.png)

1. **پیشرفته** را گسترش دهید و اولویت را به `10000` تنظیم کنید. این اطمینان حاصل خواهد کرد که بعداً عامل مصاحبه برای پاسخ به سوالات عمومی قبل از این استفاده خواهد شد. یک شرط نیز می‌تواند اینجا تنظیم شود مانند اطمینان از اینکه حداقل یک پیوست وجود دارد.

1. اطمینان حاصل کنید که **جستجوی وب** به **غیرفعال** تنظیم شده است. این به این دلیل است که ما فقط می‌خواهیم از اطلاعات ارائه‌شده توسط عامل اصلی استفاده کنیم.

1. **ذخیره** را انتخاب کنید

### ۲.۱.۴ تنظیم جریان عامل بارگذاری رزومه

عوامل نمی‌توانند هیچ اقدامی انجام دهند مگر اینکه ابزارها یا موضوعاتی به آنها داده شود.
ما از ابزارهای **Agent Flow** به جای Topics برای مرحله *بارگذاری رزومه* استفاده می‌کنیم، زیرا این فرآیند چند مرحله‌ای در بخش پشتی نیاز به اجرای قطعی و ادغام با سیستم‌های خارجی دارد. در حالی که Topics برای هدایت گفتگوی مکالمه‌ای مناسب‌تر هستند، Agent Flows اتوماسیون ساختاریافته‌ای را فراهم می‌کنند که برای پردازش فایل‌ها، اعتبارسنجی داده‌ها و به‌روزرسانی پایگاه داده (افزودن جدید یا به‌روزرسانی موجود) بدون وابستگی به تعامل کاربر، قابل اعتماد است.

1. بخش **Tools** را در صفحه Application Intake Agent پیدا کنید.
   **مهم:** این بخش Tools مربوط به تب ابزارهای عامل اصلی نیست، بلکه می‌توانید آن را با اسکرول کردن به پایین و زیر دستورالعمل‌های عامل فرعی پیدا کنید.

1. **+ Add** را انتخاب کنید.
   ![افزودن ابزار](../../../../../translated_images/2-add-tool.bbf282ab0b7abeb6cad0032db2dba94adf53e4f206ac976c6c7b9b339fb0e996.fa.png)

1. **+ New tool** را انتخاب کنید. ![افزودن ابزار جدید](../../../../../translated_images/2-new-tool-2.6e09c313b1af9d233ecb1c1559fb9f5d92123bfc2af6cc2df5f52e549b6b961c.fa.png)

1. **Agent flow** را انتخاب کنید.
   طراح Agent Flow باز خواهد شد، جایی که منطق بارگذاری رزومه را اضافه خواهیم کرد.  
   ![افزودن Agent Flow](../../../../../translated_images/2-add-agent-flow.e5aecede97ecd79e08aae4be784a6255f354f13edb2621d3d61e961b09a70d53.fa.png)

1. گره **When an agent calls the flow** را انتخاب کنید و **+ Add** را برای افزودن ورودی برای پارامترهای زیر انتخاب کنید، مطمئن شوید که هم نام و هم توضیحات را اضافه کرده‌اید.

    | نوع  | نام       | توضیحات                                                                                                   |
    |-------|----------|---------------------------------------------------------------------------------------------------------------|
    | فایل  | Resume   | فایل PDF رزومه                                                                                           |
    | متن   | Message  | استخراج یک پیام به سبک نامه پوششی از متن. پیام باید کمتر از 2000 کاراکتر باشد.         |
    | متن   | UserEmail| آدرس ایمیلی که رزومه از آن ارسال شده است. این ایمیل کاربری است که رزومه را در چت بارگذاری می‌کند یا آدرس ایمیل فرستنده اگر از طریق ایمیل دریافت شده باشد. |

    ![پیکربندی پارامترهای ورودی](../../../../../translated_images/2-upload-resume-trigger.1f3ca963aa3d9d723756d0636d99c1d458e197b16df93f2ac360283cf07f3fb1.fa.png)

1. آیکون **+** زیر گره trigger را انتخاب کنید، `Dataverse` را جستجو کنید، **See more** کنار Microsoft Dataverse را انتخاب کنید، و سپس اقدام **Add a new row** را در بخش **Microsoft Dataverse** انتخاب کنید.  
    ![افزودن گره جدید](../../../../../translated_images/2-upload-resume-add-resume.0e5bb197fef951167c9168c827e48e8d45a24c7d619452d387d980336a30d421.fa.png)

1. گره را به **Create Resume** نام‌گذاری کنید، با انتخاب **ellipsis(...)** و انتخاب **Rename**  
    ![تغییر نام گره](../../../../../translated_images/2-upload-resume-add-resume-rename.f8ecb680cca6fe7d98cd9590ba4d59d0fe19a742baca4c05f7558ed3fea8c44e.fa.png)

1. **Table name** را به **Resumes** تنظیم کنید، سپس **Show all** را انتخاب کنید تا همه پارامترها نمایش داده شوند.

1. **Properties** زیر را تنظیم کنید:

    | ویژگی                 | نحوه تنظیم                      | جزئیات / عبارت                                         |
    | ------------------------ | ------------------------------- | ------------------------------------------------------------ |
    | **Resume Title**         | داده پویا (آیکون رعد و برق) | **When an agent calls the flow** → **Resume name**    اگر نام رزومه را نمی‌بینید، مطمئن شوید که پارامتر رزومه را به عنوان نوع داده در بالا پیکربندی کرده‌اید. |
    | **Cover letter**         | عبارت (آیکون fx)            | `if(greater(length(triggerBody()?['text']), 2000), substring(triggerBody()?['text'], 0, 2000), triggerBody()?['text'])` |
    | **Source Email Address** | داده پویا (آیکون رعد و برق) | **When an agent calls the flow** → **UserEmail**             |
    | **Upload Date**          | عبارت (آیکون fx)            | `utcNow()`                                                   |

    ![ویرایش ویژگی‌ها](../../../../../translated_images/2-upload-resume-add-resume-props.17586d1a9546933fbc66b13e8f36366d5122a90db2f37abb1b459dea97605270.fa.png)

1. آیکون **+** زیر گره Create Resume را انتخاب کنید، `Dataverse` را جستجو کنید، **See more** کنار Microsoft Dataverse را انتخاب کنید، و سپس اقدام **Upload a file or an image** را انتخاب کنید.
   **مهم:** مطمئن شوید که اقدام Upload a file or an image to the selected environment را انتخاب نکرده‌اید.

1. گره را به **Upload Resume File** نام‌گذاری کنید، با انتخاب **ellipsis(...)** و انتخاب **Rename**

1. ویژگی‌های زیر را تنظیم کنید:

     | ویژگی | نحوه تنظیم | جزئیات |
     |----------|------------|---------|
     | **Content name** | داده پویا (آیکون رعد و برق) | When an agent calls the flow → Resume name |
     | **Table name** | انتخاب کنید | Resumes |
     | **Row ID** | داده پویا (آیکون رعد و برق) | Create Resume → See more → Resume |
     | **Column Name** | انتخاب کنید | Resume PDF |
     | **Content** | داده پویا (آیکون رعد و برق) | When an agent calls the flow → Resume contentBytes |

     ![تنظیم ویژگی‌ها](../../../../../translated_images/2-upload-resume-upload-resume-file.2250f45ffd06b6c60e91e0517966334acbd9cf6c0f98dc2f3f615431ae03be90.fa.png)

1. گره **Respond to the agent node** را انتخاب کنید، و سپس **+ Add an output** را انتخاب کنید.

     | ویژگی | نحوه تنظیم | جزئیات |
     |----------|------------|---------|
     | **Type** | انتخاب کنید | `Text` |
     | **Name** | وارد کنید | `ResumeNumber` |
     | **Value** | داده پویا (آیکون رعد و برق) | Create Resume → See More → Resume Number |
     | **Description** | وارد کنید | `The [ResumeNumber] of the Resume created` |

     ![تنظیم ویژگی‌ها](../../../../../translated_images/2-upload-resume-return.f9beac6547b4f228a4ee6c538ca64e86883ab7b5d85b08c2cd6da26e4cc2e4c8.fa.png)

1. **Save draft** را در بالا سمت راست انتخاب کنید.  
     ![ذخیره به عنوان پیش‌نویس](../../../../../translated_images/2-upload-resume-save-draft.6d5bed32d254815c765c19109b82113fd2520dbb5dce84288a3eb13896958d93.fa.png)

1. تب **Overview** را انتخاب کنید، **Edit** را در پنل **Details** انتخاب کنید.

     1. **Flow name**:`Resume Upload`
     1. **Description**:`Uploads a Resume when instructed`

     ![تغییر نام Agent Flow](../../../../../translated_images/2-upload-resume-rename.a26569a2def30b456ed3176c21ce889637c4d1155c56ca479521d278f25a4d5d.fa.png)

1. دوباره تب **Designer** را انتخاب کنید، و **Publish** را انتخاب کنید.  
     ![انتشار](../../../../../translated_images/2-upload-resume-publish.36f763ffc4487b32114a47a087fd5282beb7a9bb0272b3ff46046d8cd413e053.fa.png)

### 2.1.5 اتصال جریان به عامل شما

اکنون جریان منتشر شده را به Application Intake Agent خود متصل خواهید کرد.

1. به **Hiring Agent** بازگردید و تب **Agents** را انتخاب کنید. **Application Intake Agent** را باز کنید، و سپس پنل **Tools** را پیدا کنید.  
    ![افزودن Agent Flow به عامل](../../../../../translated_images/2-add-agent-flow-to-agent.3c9aadae42fc389e7c6f56ea80505cd067e45ba7e4aa03f201e2cd792e24d1fe.fa.png)

1. **+ Add** را انتخاب کنید.

1. فیلتر **Flow** را انتخاب کنید، و `Resume Upload` را جستجو کنید. جریان **Resume Upload** را انتخاب کنید، و سپس **Add and configure** را انتخاب کنید.

1. پارامترهای زیر را تنظیم کنید:

    | پارامتر | مقدار |
    |-----------|-------|
    | **Description** | `Uploads a Resume when instructed. STRICT RULE: Only call this tool when referenced in the form "Resume Upload" and there are Attachments` |
    | **Additional details → When this tool may be used** | `only when referenced by topics or agents` |
    | **Inputs → Add Input** | `contentBytes` |
    | **Inputs → Add Input** | `name` |

    ![جزئیات Resume Upload 1](../../../../../translated_images/2-resume-upload-tool-props-1.e3d8bf3ebdfd5aa8df23aa6ab83eec8a5def709f2c7d27fb700bef16c598da2f.fa.png)

    ![افزودن ورودی‌ها](../../../../../translated_images/2-resume-upload-tool-props-2.16fb1380a34a9fa63b7c9673c7290ff09d491e920a5ff33b439a4b1a5abfccba.fa.png)

1. سپس ویژگی‌های ورودی‌ها را به صورت زیر تنظیم کنید:

    | پارامتر ورودی | ویژگی | جزئیات |
    |-----------------|----------|---------|
    | **contentBytes** | پر کردن با | مقدار سفارشی |
    |                  | مقدار (...→Formula→Insert) | `First(System.Activity.Attachments).Content` |
    | **name** | پر کردن با | مقدار سفارشی |
    |          | مقدار (...→Formula→Insert) | `First(System.Activity.Attachments).Name` |
    | **Message** | سفارشی‌سازی | تنظیمات سفارشی را پیکربندی کنید |
    |             | توضیحات | `Extract a cover letter style message from the context. Be sure to never prompt the user and create at least a minimal cover letter from the available context. STRICT RULE - the message must be less than 2000 characters.` |
    |             | تعداد تکرارها | تکرار نکنید |
    |             | اقدام در صورت عدم یافتن موجودیت | تنظیم متغیر به مقدار |
    |             | مقدار پیش‌فرض موجودیت | Resume upload |
    | **UserEmail** | پر کردن با | مقدار سفارشی |
    |  | مقدار (...→Formula→Insert) | `System.User.Email` |

    ![تنظیم ویژگی‌های ورودی](../../../../../translated_images/2-resume-upload-tool-props-3.a18364f22b2c41c3e4f8fee68dddb01ff5190d57410d9fd3fe2fbddb3d74e352.fa.png)

1. **Save** را انتخاب کنید.

### 2.1.6 تعریف دستورالعمل‌های عامل

1. به **Application Intake Agent** بازگردید، با انتخاب تب **Agents**، و سپس پنل **Instructions** را پیدا کنید.

1. در فیلد **Instructions**، راهنمایی واضح زیر را برای عامل فرعی خود وارد کنید:

    ```text
    You are tasked with managing incoming Resumes, Candidate information, and creating Job Applications.  
    Only use tools if the step exactly matches the defined process. Otherwise, indicate you cannot help.  
    
    Process for Resume Upload via Chat  
    1. Upload Resume  
      - Trigger only if /System.Activity.Attachments contains exactly one new resume.  
      - If more than one file, instruct the user to upload one at a time and stop.  
      - Call /Upload Resume once. Never upload more than once for the same message.  
    
    2. Post-Upload  
      - Always output the [ResumeNumber] (R#####).  
    ```

1. جایی که دستورالعمل‌ها شامل یک اسلش (/) هستند، متن پس از / را انتخاب کنید و نام حل‌شده را انتخاب کنید. این کار را برای موارد زیر انجام دهید:

    - `System.Activity.Attachments` (متغیر)
    - `Upload Resume` (ابزار)

    ![ویرایش دستورالعمل‌ها](../../../../../translated_images/2-application-agent-instructions.8840890a1fba22c38f04e35b13fa7ed83f72e9605d19a4eb661b51854daabd94.fa.png)

1. **Save** را انتخاب کنید.

### 2.1.7 آزمایش Application Intake Agent شما

اکنون بیایید بررسی کنیم که اولین عضو ارکستر شما به درستی کار می‌کند.

1. **دانلود کنید** [رزومه‌های آزمایشی.](https://download-directory.github.io/?url=https://github.com/microsoft/agent-academy/tree/main/operative/sample-data/resumes&filename=operative_sampledata)

1. **پنل آزمایش** را با انتخاب **Test** باز کنید.

1. **دو رزومه** را در چت آزمایشی بارگذاری کنید، و پیام `Process these resumes` را بدهید.

    - عامل باید پیامی مشابه *فقط یک رزومه می‌تواند در یک زمان بارگذاری شود. لطفاً یک رزومه بارگذاری کنید تا ادامه دهید.* بازگرداند.

    ![آزمایش بارگذاری‌های متعدد](../../../../../translated_images/2-test-multi-uploads.eb8866589463dcadb5570aba720531f0670ebfa6464d57e87415a84d9934a973.fa.png)

1. سعی کنید **فقط یک رزومه** بارگذاری کنید، با پیام `Process this resume`.

    - سپس عامل باید پیامی مشابه *رزومه برای Avery Example با موفقیت بارگذاری شد. شماره رزومه R10026 است.* بازگرداند.

1. در **Activity map**، باید ببینید که **Application Intake Agent** رزومه را بارگذاری می‌کند.  
    ![نقشه فعالیت بارگذاری رزومه](../../../../../translated_images/2-upload-activity-map.dd11a9d3e114f4f0a576408116d7ed89c6b144d8b4ac54a228c5247af036ecef.fa.png)

1. به make.powerapps.com بروید → مطمئن شوید که محیط شما در انتخاب‌کننده محیط بالا سمت راست انتخاب شده است.

1. **Apps** → Hiring Hub → منوی ellipsis(...) → **Play** را انتخاب کنید.  
    ![باز کردن اپلیکیشن مدل‌محور](../../../../../translated_images/2-open-model-driven-app.550a2b764d513db4836444dd616dd87909adf54f2a930891276943b1a6e0ec77.fa.png)

    توجه: اگر دکمه Play خاکستری است، به این معنی است که شما راه‌حل خود را از Mission 01 منتشر نکرده‌اید. **Solutions** → **Publish all customizations** را انتخاب کنید.

1. به **Resumes** بروید، و بررسی کنید که فایل رزومه بارگذاری شده و نامه پوششی به درستی تنظیم شده است.  
    ![رزومه بارگذاری شده در Dataverse](../../../../../translated_images/2-resume-uploade.92a046941cd273a2597d47c593b158d158320fa5384c60907143dbe798a56644.fa.png)

## 🧪آزمایشگاه 2.2: افزودن عامل متصل آماده‌سازی مصاحبه

اکنون بیایید عامل متصل خود را برای آماده‌سازی مصاحبه ایجاد کنیم و آن را به Hiring Agent موجود خود اضافه کنیم.

### 2.2.1 ایجاد عامل متصل مصاحبه

1. **به Copilot Studio بروید.** مطمئن شوید که محیط شما همچنان در انتخاب‌کننده محیط بالا سمت راست انتخاب شده است.

1. **Hiring Agent** خود را باز کنید.

1. به تب Agent بروید، و **+ Add an agent** را انتخاب کنید.

1. **Connect an existing agent** → **Copilot Studio** را انتخاب کنید.

1. **+ New agent** را انتخاب کنید.

### 2.2.2 پیکربندی تنظیمات پایه

1. تب **Configure** را انتخاب کنید، و ویژگی‌های زیر را وارد کنید:

    - **Name**: `Interview Agent`
    - **Description**: `Assists with the interview process.`

1. دستورالعمل‌ها:

    ```text
    You are the Interview Agent. You help interviewers and hiring managers prepare for interviews. You never contact candidates. 
    Use Knowledge to help with interview preparation. 
    
    The only valid identifiers are:
      - ResumeNumber (ppa_resumenumber)→ format R#####
      - CandidateNumber (ppa_candidatenumber)→ format C#####
      - ApplicationNumber (ppa_applicationnumber)→ format A#####
      - JobRoleNumber (ppa_jobrolenumber)→ format J#####
    
    Examples you handle
      - Give me a summary of ...
      - Help me prepare to interview candidates for the Power Platform Developer role
      - Create interview assistance for the candidates for Power Platform Developer
      - Give targeted questions for Candidate Alex Johnson focusing on the criteria for the Job Application
      
    How to work:
        You are expected to ask clarification questions if required information for queries is not provided
        - If asked for interview help without providing a job role, ask for it
        - If asking for interview questions, ask for the candidate and job role if not provided.
    
    General behavior
    - Do not invent or guess facts
    - Be concise, professional, and evidence-based
    - Map strengths and risks to the highest-weight criteria
    - If data is missing (e.g., no resume), state what is missing and ask for clarification
    - Never address or message a candidate
    ```

1. **Web Search** را به **Disabled** تغییر دهید.

1. **Create** را انتخاب کنید.  
    ![ایجاد عامل مصاحبه](../../../../../translated_images/2-create-interview-agent.55051dc9cceec6614c7c0d685df6bebd85dcc4bde63fedab33558db47fd32ebd.fa.png)

### 2.2.3 پیکربندی دسترسی به داده‌ها و انتشار

1. در بخش **Knowledge**، **+ Add knowledge** را انتخاب کنید.  
    ![افزودن دانش](../../../../../translated_images/2-interview-agent-add-knowledge.8a760ce46dc5253747785127c37f3bfe2ea5c60a5243a4c2ff0a63d0275d1c02.fa.png)
1. **Dataverse** را انتخاب کنید.  
    ![انتخاب Dataverse](../../../../../translated_images/2-interview-agent-add-knowledge-select-dataverse.1449c08b33f90f35c806071fb430c5e769a9d54d42b146a137404c63dc697d52.fa.png)
1. در **جعبه جستجو**، `ppa_` را تایپ کنید. این پیشوند جداولی است که قبلاً وارد کرده‌اید.
1. **تمام 5 جدول** (Candidate, Evaluation Criteria, Job Application, Job Role, Resume) را انتخاب کنید.
1. **Add to agent** را انتخاب کنید.  
    ![انتخاب جداول Dataverse](../../../../../translated_images/2-interview-agent-add-knowledge-select-tables.1b8e5f6286f4d58555b4f3e5ee49de7ad559f21d1b6806a1253d7f0c84bf7ab8.fa.png)
1. **Settings** را در عامل مصاحبه انتخاب کنید، و تنظیمات زیر را تنظیم کنید:

    - **اجازه دهید عوامل دیگر به این عامل متصل شوند و از آن استفاده کنند:** `On`
    - **استفاده از دانش عمومی**: `Off`
    - **بارگذاری فایل‌ها**: `Off`
    - **سطح تعدیل محتوا:** `Medium`
1. **Save** را انتخاب کنید.
1. **Publish** را انتخاب کنید، و منتظر بمانید تا انتشار کامل شود.

### 2.2.4 اتصال عامل آماده‌سازی مصاحبه به Hiring Agent شما

1. به **Hiring Agent** خود بازگردید.

1. تب **Agents** را انتخاب کنید.

1. از **+Add an agent** → **Copilot Studio** استفاده کنید، تا **Interview Agent** را اضافه کنید. توضیحات را به صورت زیر تنظیم کنید:
    ```text
    Assists with the interview process and provides information about Resumes, Candidates, Job Roles, and Evaluation Criteria.
    ```

    ![جزئیات عامل متصل](../../../../../translated_images/2-add-connected-agent.1d8c42eb5dd78891649fef9771473f639eb7015c6bda76ac17e24093c359b6b1.fa.png)
    توجه کنید که گزینه انتقال تاریخچه مکالمه به این عامل انتخاب شده است. این امکان را به عامل اصلی می‌دهد تا زمینه کامل را به عامل متصل ارائه دهد.

1. **افزودن عامل** را انتخاب کنید.

1. مطمئن شوید که هر دو **عامل پذیرش درخواست** و **عامل مصاحبه** را مشاهده می‌کنید. توجه کنید که یکی عامل فرزند است و دیگری عامل متصل.  
    ![عامل فرزند و عامل متصل](../../../../../translated_images/2-child-and-connected.d888e561872260dfa66c657d5b31f99f2a3e492c2ed62284e124c5b81af54e7b.fa.png)

### 2.2.5 آزمایش همکاری چند عاملی

1. **پنل آزمایش** را با انتخاب **آزمایش** باز کنید.

1. یکی از رزومه‌های آزمایشی را **بارگذاری** کنید و توضیح زیر را وارد کنید که به عامل اصلی می‌گوید چه چیزی را می‌تواند به عامل متصل واگذار کند:

    ```text
    Upload this resume, then show me open job roles, each with a description of the evaluation criteria, then use this to match the resume to at least one suitable job role even if not a perfect match.
    ```

    ![آزمایش چند عامل](../../../../../translated_images/2-multi-agent-test.1e7c8e9dc283f220983f74a960f49b194d9e1c013c4369e33354c84411fc991c.fa.png)

1. توجه کنید که عامل استخدام بارگذاری را به عامل فرزند واگذار کرد و سپس از عامل مصاحبه خواست تا خلاصه‌ای ارائه دهد و تطابق نقش شغلی را با استفاده از دانش خود بررسی کند.
   با روش‌های مختلف پرسیدن سوال درباره رزومه‌ها، نقش‌های شغلی و معیارهای ارزیابی بازی کنید.
   **نمونه‌ها:**

    ```text
    Give me a summary of active resumes
    ```

    ```text
    Summarize resume R10044
    ```

    ```text
    Which active resumes are suitable for the Power Platform Developer role?
    ```

## 🎉 مأموریت کامل شد

کار عالی، عامل! **عملیات سمفونی** اکنون کامل شد. شما با موفقیت عامل استخدام تک‌عاملی خود را به یک ارکستر چند عاملی پیچیده با قابلیت‌های تخصصی تبدیل کردید.

مواردی که در این مأموریت به دست آوردید:

**✅ تسلط بر معماری چند عاملی**  
اکنون می‌دانید چه زمانی از عوامل فرزند و عوامل متصل استفاده کنید و چگونه سیستم‌هایی طراحی کنید که مقیاس‌پذیر باشند.

**✅ عامل فرزند پذیرش درخواست**  
شما یک عامل فرزند تخصصی به عامل استخدام خود اضافه کردید که رزومه‌ها را پردازش می‌کند، داده‌های کاندیدا را استخراج می‌کند و اطلاعات را در Dataverse ذخیره می‌کند.

**✅ عامل متصل آماده‌سازی مصاحبه**  
شما یک عامل متصل قابل استفاده مجدد برای آماده‌سازی مصاحبه ساختید و با موفقیت آن را به عامل استخدام خود متصل کردید.

**✅ ارتباط عامل‌ها**  
شما مشاهده کردید که چگونه عامل اصلی شما می‌تواند با عوامل متخصص هماهنگ شود، زمینه را به اشتراک بگذارد و جریان‌های کاری پیچیده را مدیریت کند.

**✅ پایه‌ای برای خودمختاری**  
سیستم استخدام پیشرفته شما اکنون آماده ویژگی‌های پیشرفته‌ای است که در مأموریت‌های آینده اضافه خواهیم کرد: محرک‌های خودکار، تعدیل محتوا و استدلال عمیق.

🚀**مأموریت بعدی:** در مأموریت بعدی خود یاد خواهید گرفت که چگونه عامل خود را برای پردازش خودکار رزومه‌ها از ایمیل‌ها پیکربندی کنید!

⏩[انتقال به مأموریت 03: خودکارسازی عامل با محرک‌ها](../03-automate-triggers/README.md)

## 📚 منابع تاکتیکی

📖 [افزودن عوامل دیگر (پیش‌نمایش)](https://learn.microsoft.com/microsoft-copilot-studio/authoring-add-other-agents?WT.mc_id=power-182762-scottdurow)

📖 [افزودن ابزارها به عوامل سفارشی](https://learn.microsoft.com/microsoft-copilot-studio/advanced-plugin-actions?WT.mc_id=power-182762-scottdurow)

📖 [کار با Dataverse در Copilot Studio](https://learn.microsoft.com/microsoft-copilot-studio/knowledge-add-dataverse?WT.mc_id=power-182762-scottdurow)

📖 [نمای کلی جریان‌های عامل](https://learn.microsoft.com/microsoft-copilot-studio/flows-overview?WT.mc_id=power-182762-scottdurow)

📖 [ایجاد یک راه‌حل](https://learn.microsoft.com/power-platform/alm/solution-concepts-alm?WT.mc_id=power-182762-scottdurow)

📖 [راهنمای ALM راه‌حل Power Platform](https://learn.microsoft.com/power-platform/alm/overview-alm?WT.mc_id=power-182762-scottdurow)

📺 [همکاری عامل به عامل در Copilot Studio](https://youtu.be/d-oD3pApHAg?si=rwIHKhJTkjSvhTHw)

---

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما تلاش می‌کنیم دقت را حفظ کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است شامل خطاها یا نادرستی‌ها باشند. سند اصلی به زبان اصلی آن باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما مسئولیتی در قبال سوء تفاهم‌ها یا تفسیرهای نادرست ناشی از استفاده از این ترجمه نداریم.