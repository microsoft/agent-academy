<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "dcbcd9396b076da0a0f5d389e9ec1b12",
  "translation_date": "2025-10-17T05:57:32+00:00",
  "source_file": "docs/recruit/08-add-adaptive-card/README.md",
  "language_code": "he"
}
-->
# 🚨 משימה 08: שיפור אינטראקציות משתמשים בנושאים באמצעות כרטיסים אדפטיביים

## 🕵️‍♂️ שם קוד: `מבצע שדרוג ממשק`

> **⏱️ חלון זמן המבצע:** `~45 דקות`

🎥 **צפו בהדרכה**

[![תמונה ממוזערת של סרטון כרטיסים אדפטיביים](../../../../../translated_images/video-thumbnail.3fb3463f411ef1f440a0fd0e67d217a67bcca1d39a98b2c2bff4e13cbc1b6f4e.he.jpg)](https://www.youtube.com/watch?v=RhIlzYHPCXo "צפו בהדרכה ביוטיוב")

## 🎯 תדריך משימה

סוכנים, המשימה שלכם היא לחדור לחוויית המשתמש הסטטית ולהחליף אותה בכרטיסים אדפטיביים עשירים, דינמיים ופעילים. תשתמשו במטעני JSON ובנוסחאות Power Fx כדי להפוך שיחות ב-Copilot Studio מאינטראקציות בסיסיות לשיחות אינטראקטיביות לחלוטין. המטרה שלכם היא לאסוף מידע מהמשתמשים, להציג נתונים בצורה מרהיבה ולהכווין שיחות בדיוק ובסטייל. אם לא תסתגלו, המשתמשים שלכם עשויים לעבור לממשקים פחות חכמים.

## 🔎 מטרות

במשימה זו תלמדו:

1. להבין מה הם כרטיסים אדפטיביים וכיצד הם משפרים את האינטראקציות עם משתמשים ב-Copilot Studio.
1. ללמוד לבנות כרטיסים אינטראקטיביים באמצעות JSON ונוסחאות Power Fx לתוכן דינמי.
1. לחקור את מעצב הכרטיסים האדפטיביים ואת הרכיבים המרכזיים שלו ליצירת כרטיסים חזותיים.
1. ליצור טפסים עשירים ואינטראקטיביים וחוויות איסוף נתונים בתוך נושאים של סוכנים.
1. ליישם שיטות עבודה מומלצות לעיצוב כרטיסים אדפטיביים רספונסיביים וידידותיים למשתמש.

## 🤔 מהו כרטיס אדפטיבי?

**כרטיס אדפטיבי** הוא דרך ליצור אלמנטים ממשק משתמש אינטראקטיביים ועשירים חזותית שניתן להטמיע באפליקציות כמו Microsoft Teams, Microsoft Outlook או סוכנים. זהו אובייקט JSON מובנה שמגדיר את הפריסה והתוכן של הכרטיס:

- אילו אלמנטים יופיעו בכרטיס - טקסט, תמונות, כפתורים.
- כיצד האלמנטים הללו יסתדרו.
- אילו פעולות המשתמשים יכולים לבצע, כמו שליחת טופס או פתיחת קישור.

    ![כרטיס אדפטיבי](../../../../../translated_images/8.0_01_AdaptiveCard.3ae99605ab7ef4b35ee0d00649ba0fc1a8166620183f82f20258c32fbef2bb3e.he.png)

### למה כרטיסים אדפטיביים חשובים ב-Copilot Studio

דמיינו שאתם בונים סוכן ששואל את המשתמשים לשמם, כתובת האימייל שלהם או משוב. אם תשתמשו רק בטקסט פשוט, השיחה יכולה להרגיש משעממת או קשה למעקב. כאן נכנסים לתמונה הכרטיסים האדפטיביים!

1. **הופכים שיחות לאינטראקטיביות** - במקום לשלוח טקסט כהודעות למשתמש, תוכלו להציג כפתורים, טפסים, תמונות ועוד.
    - דוגמה: כרטיס יכול לבקש מהמשתמש למלא את שמו וכתובת האימייל שלו בטופס מסודר.

1. **נראים נהדר בכל מקום** - כרטיסים אדפטיביים מתאימים אוטומטית לסגנון האפליקציה שבה הם נמצאים, כמו צ'אט Microsoft 365 Copilot או Microsoft Teams. אין צורך לדאוג למצב כהה, גופן או פריסות - הם מתאימים.

1. **קל לבנות עם JSON** - אתם מגדירים את הכרטיס באמצעות קוד JSON (חשבו על זה כמתכון לממשק המשתמש). Copilot Studio עוזר לכם להציג תצוגה מקדימה של הכרטיס לפני הוספתו לנושא.

1. **איסוף ושימוש בנתונים** - ניתן להשתמש בכרטיס כדי לשאול שאלות, לאסוף תשובות ולהשתמש בנתונים הללו בזרימת השיחה.
    - דוגמה: בקשו את מספר הטלפון של המשתמש, ואז הציגו כרטיס אישור עם מספר הטלפון שלו.

1. **שיפור חוויית המשתמש** - כרטיסים גורמים לסוכן שלכם להרגיש יותר אינטראקטיבי. זהו ממשק נקי, לחיץ וידידותי יותר למשתמש.

## 🐱 האם _JSON_ הוא אדם?

מבטאים את זה כ"ג'ייסון", אבל זה לא אדם 😅

JSON, הידוע גם כ-_JavaScript Object Notation_, הוא פורמט קל משקל המשמש לארגון נתונים. קל לקרוא ולכתוב אותו, והוא נראה כמו סדרת זוגות מפתח-ערך בתוך סוגריים מסולסלים {}.

זו אחת האפשרויות לשימוש בעת הוספת כרטיס אדפטיבי לנושא שלכם.

![תכונות צומת כרטיס אדפטיבי](../../../../../translated_images/8.0_02_AdaptiveCardPropertiesPane.cf6bde2350f83ac84bf3fe5c077b2b01ee707af19a8d2f417b1ecc658318fe45.he.png)

## 👀 אני רואה אפשרות נוספת לבניית כרטיס אדפטיבי באמצעות _נוסחה_

זוכרים איך למדנו על Power Fx ב-[משימה 07 - שימוש ב-Power Fx בצמתים שלכם](../07-add-new-topic-with-trigger/README.md#what-power-fx-can-do-in-topics)? אותו דבר ניתן ליישם בכרטיסים אדפטיביים בתוך Copilot Studio.

כתזכורת,

!!! note
    Power Fx הוא שפת תכנות בקוד נמוך המשמשת להוספת לוגיקה והתנהגות דינמית לסוכן שלכם. זו אותה שפה המשמשת ב-Microsoft Power Apps, והיא נועדה להיות פשוטה ודומה לאקסל, מה שהופך אותה לקלה למפתחים ולאנשים שאינם מפתחים.

### איך Power Fx עובד בכרטיסים אדפטיביים

כשאתם מעצבים כרטיס אדפטיבי ב-Copilot Studio, תוכלו להשתמש בנוסחאות Power Fx כדי:

- להכניס ערכים דינמיים כמו שמות משתמשים, תאריכים או סטטוסים.
- לעצב טקסט או מספרים, כמו הצגת מטבע או עיגול מספרים.
- להציג או להסתיר אלמנטים בהתבסס על תנאים.
- להתאים תגובות על סמך קלט משתמש, משתנים, תוצאות מצמתים בשיחה.

לדוגמה,

"`שלום`" & `System.User.DisplayName`

נוסחה זו משלבת את המילה "שלום" עם שם המשתמש באופן דינמי.

### למה זה שימושי

1. **התאמה אישית**

    תוכלו להתאים את ההודעות לכל משתמש, מה שהופך את האינטראקציות לטבעיות ורלוונטיות יותר.

1. **תוכן דינמי**

    כרטיסים יכולים להציג נתונים אמיתיים ממשתנים ותוצאות מצמתים בשיחה.

1. **לוגיקה חכמה**

    תוכלו לשלוט במה שהמשתמשים רואים או מתקשרים איתו בהתבסס על תנאים, מה שמשפר את השימושיות ומפחית טעויות.

1. **ידידותי לקוד נמוך**

    Power Fx היא שפת תכנות בקוד נמוך. כפי שצוין קודם, היא קריאה, אינטואיטיבית ודומה לנוסחאות אקסל.

## 👷🏻‍♀️ בנייה עם מעצב הכרטיסים האדפטיביים

**מעצב הכרטיסים האדפטיביים** הוא כלי חזותי שמאפשר לכם לבנות כרטיסי הודעות אינטראקטיביים באמצעות אלמנטים גרירה ושחרור כמו טקסט, תמונות, כפתורים וקלטים. מטרתו לעזור לכם ליצור הודעות עשירות ודינמיות ללא כתיבת קוד מורכב, מה שמקל על עיצוב ממשקים ידידותיים למשתמש.

כלי המעצב עוזר לכם לבנות את הכרטיס באופן חזותי, אבל מאחורי הקלעים, הוא מייצר עבורכם את אובייקט ה-JSON. תוכלו גם לעבור ל_נוסחה_ שמאפשרת שימוש בביטויי Power Fx בכרטיס כדי להציג נתונים ממקורות אחרים.

## 🎨 הבנת מעצב הכרטיסים האדפטיביים

![מעצב הכרטיסים האדפטיביים](../../../../../translated_images/8.0_03_AdaptiveCardPropertiesPane.e97dad10daf78959c15acb61ca17f0178f2716a75bb85c491c80866720cb1e99.he.png)

### א) אלמנטים של כרטיס

אלו הם אבני הבניין של הכרטיס האדפטיבי שלכם. תוכלו לגרור ולשחרר אלמנטים כמו הבאים:

- **TextBlock** להצגת טקסט.
- **Image** להצגת תמונות.
- **FactSet** לזוגות מפתח-ערך.
- **שדות קלט** להצגת תיבות טקסט, בחירת תאריכים, מתגים.
- **פעולות** להצגת כפתורים כמו _שלח_, _פתח קישור_, או _הצג כרטיס_.

לכל אלמנט יש מטרה משלו וניתן לעצב או להגדיר אותו.

### ב) תצוגת כרטיס

זהו אזור ה**תצוגה המקדימה** שבו תוכלו לראות כיצד ייראה הכרטיס שלכם בזמן אמת. כשאתם מוסיפים או עורכים אלמנטים, התצוגה מתעדכנת מיד כדי לשקף שינויים. זה מאפשר לכם לבצע עדכונים חוזרים ולראות את תוצאת העיצוב באותו זמן.

### ג) מבנה הכרטיס

זה מציג את **ההיררכיה והפריסה** של הכרטיס שלכם. לדוגמה:

- כרטיס עשוי להתחיל עם **TextBlock** לכותרת.
- לאחר מכן **ColumnSet** עם תמונה בצד אחד וטקסט בצד השני.
- לאחר מכן **FactSet** וכמה **כפתורי פעולה**.

זה עוזר לכם להבין כיצד אלמנטים מקוננים ומאורגנים.

### ד) תכונות אלמנט

כשאתם לוחצים על כל אלמנט בכרטיס, פאנל זה מאפשר לכם **להתאים את ההגדרות שלו**:

- שינוי גודל טקסט, משקל או צבע.
- הגדרת כתובות URL של תמונות או טקסט חלופי.
- הגדרת אפשרויות קלט כמו טקסט מציין מקום או ערכים ברירת מחדל.

כאן אתם משפרים כל אלמנט.

### ה) עורך מטען הכרטיס

זהו קוד ה-JSON הגולמי שמאחורי הכרטיס שלכם. משתמשים מתקדמים יכולים לערוך אותו ישירות כדי:

- להשתמש בתכונות תבנית.
- להעתיק/להדביק הגדרות כרטיס.

גם אם אתם חדשים במעצב הכרטיסים האדפטיביים, זה מועיל לראות כיצד העיצוב החזותי מתורגם לקודים.

!!! tip "טיפ - עיינו בדוגמאות של כרטיסים אדפטיביים"

    1. בקרו ב-[https://adaptivecards.microsoft.com/designer](https://adaptivecards.microsoft.com/designer).
    2. בחרו **כרטיס חדש** כדי לראות רשימת דוגמאות שתוכלו לבחור ולשנות.
    3. שימו לב שהמעצב הזה הוא חיצוני (מבוסס אינטרנט). כשאתם בונים את הכרטיס שלכם במעצב הכרטיסים האדפטיביים מבוסס האינטרנט, העתיקו את ה-JSON מעורך מטען הכרטיס.
    4. הדביקו את ה-JSON בכרטיס האדפטיבי שלכם בסוכן ב-Copilot Studio.

    ![דוגמאות מעצב כרטיסים אדפטיביים](../../../../../translated_images/8.0_04_AdaptiveCardDesignerSamples.c003b545de5ccfd72ca0c5fa4607addb19d265e8f7105393c652249182754ba9.he.png)

## 🌵 שימושים נפוצים

הבאים הם שימושים נפוצים לכרטיסים אדפטיביים ב-Copilot Studio כאשר משתמשים בצמתים **שלח הודעה** או **שאל שאלה**.

1. **טפסים ואיסוף נתונים**

    השתמשו בכרטיסים אדפטיביים כדי לאסוף קלט מובנה ממשתמשים, כמו:

    - בקשות חופשה.
    - טפסי משוב.
    - מידע ליצירת קשר.
    - תזמון פגישות.

1. **הצגת מידע דינמי**

    הציגו למשתמשים נתונים מותאמים אישית או בזמן אמת בפורמט נקי וקריא ממקורות ארגוניים כמו ServiceNow, SAP, Dynamics 365, SharePoint וכו'.

    - סיכומי הזמנות.
    - יתרות חשבון.
    - סטטוס כרטיסים או תיקים.
    - אירועים או מועדים קרובים.

1. **בחירות אינטראקטיביות**

    אפשרו למשתמשים לבצע בחירות ישירות בשיחה:

    - בחירה מרשימת אפשרויות, לדוגמה קטגוריות מוצרים, נושאי תמיכה.
    - אישור או ביטול פעולה.
    - דירוג שירות או חוויה.

1. **הפעלת פעולות**

    כללו כפתורים שמפעילים צעדים נוספים בשיחה פנימית או חיצונית.

    - "שלח בקשה".
    - "צפה בפרטים".

## ⭐ שיטות עבודה מומלצות

להלן שיטות עבודה מומלצות ליצירת כרטיסים אדפטיביים לסוכנים ב-Copilot Studio.

1. **שמרו על פשטות ומיקוד**

    - עיצבו כרטיסים עם מטרה ברורה, אל תעמיסו עליהם יותר מדי אלמנטים.
    - השתמשו בטקסט תמציתי ובפריסות אינטואיטיביות כדי להכווין את המשתמשים דרך האינטראקציה.

1. **היו מכוונים עם קלטים**

    - כללו רק את אלמנטי הקלט הנחוצים כמו טקסט, בחירת תאריכים, כדי לא להעמיס על המשתמשים.
    - השתמשו בתוויות כדי להפוך את הקלטים לקלים להבנה.

1. **מבנה לקריאות**

    - השתמשו ב-**TextBlocks** לכותרות והוראות.
    - קבצו אלמנטים קשורים באמצעות **Containers** או **ColumnSets** כדי לשפר את הזרימה החזותית.

1. **הפכו את אלמנטי הפעולה לברורים**

    - השתמשו ב-**Action.Submit** או **Action.OpenUrl** עם כותרות כפתורים ברורות כמו "שלח בקשה" או "צפה בפרטים".
    - הימנעו מתוויות מעורפלות כמו "לחץ כאן".

1. **עצבו להתאמה**

    - הניחו שהכרטיס עשוי להיראות על מסכים בגדלים שונים.
    - הימנעו מרוחבים קבועים והשתמשו בפריסות גמישות כמו **ColumnSets** לרספונסיביות.

1. **השתמשו בתוכן דינמי כשאפשר**

    - קשרו אלמנטים של כרטיס למשתנים או תוצאות מצמתים באמצעות Power Fx כדי להתאים את חוויית המשתמש.
    - לדוגמה, הציגו את שם המשתמש או הסטטוס הנוכחי באופן דינמי.

## 🧪 מעבדה 08 - הוספת כרטיסים אדפטיביים ושיפור יכולות נושא

עכשיו נלמד כיצד לשפר את הנושא שלנו עם כרטיסים אדפטיביים ושימוש בפונקציונליות מתקדמת של נושאים וצמתים.

- [8.1 יצירת נושא חדש עם כרטיס אדפטיבי למשתמש כדי להגיש את בקשתו](../../../../../docs/recruit/08-add-adaptive-card)
- [8.2 עדכון הוראות הסוכן להפעלת נושא בקשת מכשיר](../../../../../docs/recruit/08-add-adaptive-card)

### ✨ שימוש

**כ**עובד

**אני רוצה** לבקש מכשיר

**כדי ש**אוכל לבקש מכשיר מרשימת המכשירים הזמינים

בואו נתחיל!

### דרישות מוקדמות

1. **רשימת SharePoint**

    נשתמש ברשימת **Devices** של SharePoint מ-[שיעור 00 - הגדרת הקורס - שלב 3: יצירת אתר SharePoint חדש](../00-course-setup/README.md#step-4-create-new-sharepoint-site).

    אם לא הגדרתם את רשימת **Devices** של SharePoint, חזרו ל-[שיעור 00 - הגדרת הקורס - שלב 3: יצירת אתר SharePoint חדש](../00-course-setup/README.md#step-4-create-new-sharepoint-site).

1. **Contoso Helpdesk Copilot**

    נשתמש באותו סוכן שנוצר קודם ב-[שיעור 06 - יצירת סוכן מותאם אישית באמצעות שפה טבעית עם Copilot והצמדתו לנתונים שלכם](../06-create-agent-from-conversation/README.md).

### 8.1 יצירת נושא חדש עם כרטיס אדפטיבי למשתמש כדי להגיש את בקשתו

ניצור נושא חדש שיטפל בבקשת מכשיר של משתמש. נושא חדש זה יכיל צומת **שאל עם כרטיס אדפטיבי** כדי לאפשר אינטראקציה של המשתמש עם הסוכן.

בואו נתחיל!

1. בחרו בכרטיסיית **נושאים**, ואז בחרו **+ הוסף נושא חדש**.

    ![בחרו בכרטיסיית נושאים](../../../../../translated_images/8.1_01_NewTopic.f16b94d274f8a7f561f257d9e15483fa56f6fc451a194f26bed03fceb24beb14.he.png)

1. תנו לנושא את השם הבא,

    ```text
    Request device
    ```

    הכניסו את התיאור הבא כטריגר.

    ```text
    This topic helps users request a device when they answer yes to the question that asks the user if they would like to request one of these devices.
    ```

    ![שם הנושא ותיאור הטריגר](../../../../../translated_images/8.1_02_TopicNameAndTriggerDescription.3cdbb3ea9a3a480b8cdb23faa47d3a607273c79cbd406ae82dbb100603233879.he.png)
1. לאחר מכן, הוסף צומת **שאל עם כרטיס אדפטיבי**. צומת זה יציג כרטיס אינטראקטיבי למשתמש כדי לבחור באיזה מכשיר הוא רוצה לבקש.

    ![בחר צומת שאל עם כרטיס אדפטיבי](../../../../../translated_images/8.1_03_AddAskWithAdaptiveCard.4b8e29223fbce16e4440152c0e7f6827fb88097e2a819a489878cf6254f215a4.he.png)

1. בחר את הצומת ולוח המאפיינים של **צומת כרטיס אדפטיבי** יופיע. עכשיו נערוך את ה-JSON. בחר **ערוך כרטיס אדפטיבי**. בחר **ערוך כרטיס אדפטיבי**.

    ![ערוך כרטיס אדפטיבי](../../../../../translated_images/8.1_04_EditAdaptiveCard.40d31318a2300d467838b0126d72d336a9abb58ba5fd6f62f51170dfb9760992.he.png)

1. זהו **מעצב כרטיס אדפטיבי** שבו ניתן לעצב את הכרטיס ולראות את העיצוב בזמן אמת.

    נסה לגרור ולשחרר את אלמנטי הכרטיס **TextBlock** ו-**FactSet** לאזור העריכה, אזור הצגת הכרטיס. שים לב כיצד מבנה הכרטיס ועורך המטען של הכרטיס מתעדכנים כאשר שני האלמנטים נוספו. ניתן לעדכן ישירות את עורך המטען של הכרטיס ואת לוח מאפייני האלמנטים.

    ![גרור ושחרר אלמנטי כרטיס](../../../../../translated_images/8.1_05_DragAndDropCardElements.a9fea2dcf7ec6d235ef7b4f717bdc4fee6536a04a3bdb26fb458678fba79acb9.he.png)

1. בחר **תצוגה מקדימה** כדי לראות את הכרטיס ברוחבים שונים.

    ![בחר תצוגה מקדימה](../../../../../translated_images/8.1_06_PreviewAdaptiveCard.647091529c1fd44ed5eff21738c780bc3bf07e1cbe6434695d206a4aca9b4b25.he.png)

1. התצוגה המקדימה תיטען ותראה תוצאות כרטיס שונות לפי רוחב.

    ![תצוגה מקדימה של כרטיס ברוחבים שונים](../../../../../translated_images/8.1_07_PreviewCardWidths.bf9059b79ef07c1c108308e904bbfaa6742db99fcb30cb18004086f3c7fed086.he.png)

1. צא מ**תצוגה מקדימה** על ידי בחירת **סמל x** ובחר **בטל** במעצב כדי להסיר את שני האלמנטים שהוספו קודם.

    ![בטל](../../../../../translated_images/8.1_08_Undo.ddcce9dbb87d876e47a932c73229d4fdc98e182d602af256275e2456cd9054eb.he.png)

1. לחץ על **עורך מטען הכרטיס** ובחר את כל השורות באמצעות קיצור המקלדת של Windows _Ctrl + A_ או קיצור המקלדת של Mac _Command + A_, ולאחר מכן מחק את השורות. **הדבק** את ה-JSON מקובץ [Request devices .JSON file](../../../../../docs/recruit/08-add-adaptive-card/assets/8.1_RequestDevice.json).

    ![נקה עורך מטען הכרטיס](../../../../../translated_images/8.1_09_SelectAll.6aaf936d81c3356870679a7ae5b6fd1298812cc492ca3250fa01179164483e1e.he.png)

1. שים לב כיצד **תצוגת הכרטיס** עכשיו כוללת אלמנטים שמציגים טקסט ורשימת מכשירים זמינים.

    ה-JSON הזה הוא כרגע תבנית ותצוגה מקדימה למה שנשתמש בו כבסיס לכרטיס שלנו, אך בצורה של נוסחה במקום JSON מכיוון שנשתמש ב**משתנה גלובלי**, `Global.VarDevices.value`, שמאחסן את התגובה של פעולת מחבר SharePoint **קבל פריטים**.

    בחר **שמור** ובחר **סגור** כדי לצאת ממודול מעצב הכרטיס האדפטיבי.

    ![בחר שמור](../../../../../translated_images/8.1_10_DeviceRequestCard.711ce0bdfbfecf2f221cb7fc4c6aecdefd7467afcfad43f2414e8230fc0d8470.he.png)

1. סגור את לוח המאפיינים של **צומת כרטיס אדפטיבי** על ידי בחירת **סמל X**.

    ![סגור לוח מאפיינים של צומת כרטיס אדפטיבי](../../../../../translated_images/8.1_11_ExitAdaptiveCardNodeProperties.fe8760d8df1c22f9a73b7860e9473a4f350e0cb0d83824e9f55a143593ca9c58.he.png)

1. באזור העריכה של הנושא, תראה את הכרטיס האדפטיבי.

    ![כרטיס בקשת מכשיר אדפטיבי](../../../../../translated_images/8.1_12_DeviceRequestCard.f4e3961a0fd282aeb37017f8cb49018c839805d375e2fc5a1220321156012b48.he.png)

1. גלול לתחתית הצומת ותראה משתני פלט. ה-`commentsId` וה-`deviceSelectionId` הוגדרו במאפייני האלמנט. שני משתנים אלו יאחסנו ערכים מהאלמנטים בכרטיס שהמשתמשים מתקשרים איתם. ערכים אלו ישמשו בהמשך הנושא, עליו נלמד במעבדה של השיעור הבא.

    ![פלט משתני צומת](../../../../../translated_images/8.1_13_DeviceRequestCardOutputs.d4580e9384b74e4273f83b52e1fd256a893c49b0cf398e33ac244906edd44b35.he.png)

1. עכשיו נעדכן את הכרטיס מ-JSON לנוסחה מכיוון שנשתמש שוב ב-Power Fx כדי לעבור על הפריטים שהוחזרו בפעולת מחבר SharePoint **קבל פריטים**, המאוחסנים ב**משתנה גלובלי**, `Global.VarDevices.value`, דרך מאפיין `value` של תגובת ה-JSON.

    > יצרנו את המשתנה הגלובלי הזה ב-[מעבדה 07 - הוסף נושא חדש עם צמתי שיחה, 7.3 הוסף כלי באמצעות מחבר](../07-add-new-topic-with-trigger/README.md#73-add-a-tool-using-a-connector).

    בחר את הכרטיס בצומת **שאל עם כרטיס אדפטיבי**, ולאחר מכן בחר את **סמל החץ** ובחר **נוסחה**.

    ![שנה לנוסחה](../../../../../translated_images/8.1_14_ChangeToFormula.03acaccb20320557926f0854e006a2e6a6475eb06ecdb031f429e50d0303f0cf.he.png)

1. לחץ על **סמל ההרחבה** כדי להגדיל את שדה הנוסחה.

    ![לחץ על סמל ההרחבה](../../../../../translated_images/8.1_15_SelectExpand.65dcefe6ec10e6b8c9741c254d303a47f5c0fae7bf586facbf768f820786c839.he.png)

1. לחץ על **עורך מטען הכרטיס** ובחר את כל השורות באמצעות קיצור המקלדת של Windows _Ctrl + A_ או קיצור המקלדת של Mac _Command + A_, ולאחר מכן מחק את השורות.

    ![לחץ על עורך מטען הכרטיס](../../../../../translated_images/8.1_16_SelectAll.689cea259e1541f21e87df32ce271bb478c7f88f8e96ba7e02329cc0015a037c.he.png)

    הדבק את הנוסחה מקובץ [Request Devices formula file](../../../../../docs/recruit/08-add-adaptive-card/assets/8.1_RequestDeviceFormula.txt).

1. בנוסחה, נעבור על כל פריט ברשימת SharePoint באמצעות פונקציית `For All` כדי להציג את הערכים של `Model` בכותרת אפשרות הבחירה, ופריט SharePoint `ID` יופיע כערך. אנחנו גם עוטפים את הערכים עם פונקציות `If(IsBlank()` מכיוון שהנוסחה מצפה לערך כדי להציג את הכרטיס האדפטיבי באזור העריכה של הנושא. אחרת תופיע הודעה, "Property cannot be null".

    **סגור** את מודול הכרטיס.

    ![נוסחת Power Fx](../../../../../translated_images/8.1_17_PowerFxFormula.c68848b0af594819636bf70aa6b03c7ec8f4190b285e798fdcb02232be0ca146.he.png)

1. **סגור** את לוח המאפיינים של **צומת כרטיס אדפטיבי**.

1. **שמור** את הנושא.

    ![שמור נושא](../../../../../translated_images/8.1_18_SaveTopic.da41cfc240e80d46f7f1379f271be8dafa0c3060868b862535bb4bec87591f6c.he.png)

### 8.2 עדכן הוראות הסוכן להפעלת נושא בקשת מכשיר

עכשיו שיצרנו את הנושא החדש שמטפל בבקשות למכשירים, אנחנו צריכים לעדכן את **הוראות הסוכן** כדי להפעיל את הנושא.

1. בחר את לשונית **סקירה כללית** וב**הוראות הסוכן** בחר **ערוך**.

    ![ערוך הוראות](../../../../../translated_images/8.2_01_EditInstructions.1c93b774b61243660f1fac51c39675e1a3aa35b14200364921d90ae26cffec13.he.png)

1. הוסף שורה חדשה מתחת להוראה הקודמת מ-[מעבדה 07 - הוסף נושא חדש עם צמתי שיחה, 7.3 הוסף כלי באמצעות מחבר](../07-add-new-topic-with-trigger/README.md#73-add-a-tool-using-a-connector).

    ```text
    - If the user answers yes to the question of requesting a device, trigger [Request device]. Otherwise if they answer no to the question of requesting a device, trigger [Goodbye].
    ```

    בחר את כל התוכן של הנושא בתוך הסוגריים המרובעים ומחק את התוכן.

    ![מחק את התוכן של בקשת מכשיר](../../../../../translated_images/8.2_02_ReplaceRequestDevicePlaceholder.604b21d10047f887fd12965c54bcaa7b96174dc5ebc39862ef29d513420c25f8.he.png)

1. הקלד `/Req` ובחר את נושא **בקשת מכשירים**.

    ![נושא בקשת מכשירים](../../../../../translated_images/8.2_03_ReferenceRequestDeviceTopic.082468c7b7512dceb4d294ed3dbe447e81b1f0b47688b767003eca6a60b4390d.he.png)

1. חזור על אותם צעדים עבור התוכן הבא, **[Goodbye]**. בחר את כל התוכן של הנושא בתוך הסוגריים המרובעים ומחק את התוכן. הקלד `/Goodbye` ובחר את נושא **Goodbye**.

    - כאשר המשתמש עונה **כן** לשאלה של הסוכן אם הוא רוצה לבקש מכשיר, הסוכן יפנה מנושא **מכשירים זמינים** לנושא **בקשת מכשירים**.

    - אחרת, אם המשתמש עונה **לא**, הסוכן יפנה מנושא **מכשירים זמינים** לנושא **Goodbye**.

    **שמור** את ההוראות המעודכנות.

    ![הפניה לנושא בקשת מכשירים](../../../../../translated_images/8.2_04_ReferenceGoodbyeTopic.f4db471beef6645aefd7d8b1b8a46669c6764b54f6954614f452976c49bcb9d5.he.png)

1. עכשיו נבדוק את ההפניה מנושא _מכשירים זמינים_ לנושא _בקשת מכשירים_. בחר **בדיקה** כדי לטעון את לוח הבדיקה ובחר **רענן**.

    לאחר מכן בחר את סמל **מפת הפעילות** בלוח הבדיקה, ולאחר מכן הפעל **מעקב בין נושאים**. זה יאפשר לנו לראות שנושא _מכשירים זמינים_ הפנה לנושא _בקשת מכשירים_.

    אוקיי, אנחנו מוכנים לבדוק! הכנס את הטקסט הבא בלוח הבדיקה.

    ```text
    I need a laptop
    ```

    ![בדוק סוכן](../../../../../translated_images/8.2_05_TestAgent.21b4ed7f831866736edc0b35def2856066bf61082487a6d63952e8635eae8c99.he.png)

1. הסוכן יגיב עם רשימת המכשירים הזמינים ולאחר מכן ישאל את המשתמש אם הוא רוצה לבקש מכשיר. העתק והדבק את הטקסט הבא,

    ```text
    yes please
    ```

    ![בדוק נושא בקשת מכשירים](../../../../../translated_images/8.2_06_TestRequestDeviceTopic.60f161f89dc2793bc4b40a6d29a06a7cffe156c50e8517de242f1dacbadf5682.he.png)

1. לאחר מכן נראה שהסוכן הפנה לנושא **בקשת מכשירים**. הסוכן הפעיל את הנושא הזה בהתאם להוראות שהוספנו.

    הכרטיס האדפטיבי עם האלמנטים האינטראקטיביים יוצג עכשיו כהודעה למשתמש.

    ![צומת שאלה](../../../../../translated_images/8.2_07_AdaptiveCardQuestion.f07775130cfea9a75c5842c48a56bf506e0b5967e4349571b682266c85c02748.he.png)

1. עכשיו בדקנו בהצלחה 😄 את ההפניה מנושא _מכשירים זמינים_ לנושא _בקשת מכשירים_. נוסיף עוד שיפורים לנושא הזה במעבדה של השיעור הבא.

    רענן את לוח הבדיקה.

    ![רענן לוח בדיקה](../../../../../translated_images/8.2_08_RefreshTestPane.84d8c1174a9e6cc28a87f2663fb72838e8c6fd216df46153bd4f995b8527227a.he.png)

## ✅ משימה הושלמה

מזל טוב! 👏🏻 למדת איך להוסיף כרטיסים אדפטיביים באמצעות נוסחאות Power Fx כדי להציג נתונים ממשתנים, ולמדת גם איך להפנות מנושא אחד לנושא אחר. יצירת נושאים קטנים יותר הופכת את הסוכן שלך למאורגן יותר, וגם עוזרת להנחות משתמשים דרך חלקים שונים של זרימת השיחה עם הסוכן.

זהו סוף **מעבדה 08 - שפר אינטראקציות משתמש עם כרטיסים אדפטיביים**, בחר את הקישור למטה כדי לעבור לשיעור הבא. נרחיב על המקרה במעבדה של השיעור הבא.

⏭️ [עבור לשיעור **הוסף זרימת סוכן לנושא שלך לאוטומציה**](../09-add-an-agent-flow/README.md)

## 📚 משאבים טקטיים

🔗 [שימוש בכרטיסים אדפטיביים ב-Copilot Studio](https://learn.microsoft.com/microsoft-copilot-studio/guidance/adaptive-cards-overview?WT.mc_id=power-172619-ebenitez)

🔗 [הוסף כרטיס אדפטיבי בצומת שלח הודעה](https://learn.microsoft.com/microsoft-copilot-studio/authoring-send-message#add-an-adaptive-card?WT.mc_id=power-172619-ebenitez)

🔗 [צור ביטויים באמצעות Power Fx](https://learn.microsoft.com/microsoft-copilot-studio/advanced-power-fx?WT.mc_id=power-172619-ebenitez)

📺 [בניית כרטיסים אדפטיביים עם Power FX](https://aka.ms/ai-in-action/copilot-studio/ep8)

<!-- markdownlint-disable-next-line MD033 -->
<img src="https://m365-visitor-stats.azurewebsites.net/agent-academy/recruit/08-add-adaptive-card" alt="Analytics" />

---

**כתב ויתור**:  
מסמך זה תורגם באמצעות שירות תרגום AI [Co-op Translator](https://github.com/Azure/co-op-translator). למרות שאנו שואפים לדיוק, יש לקחת בחשבון שתרגומים אוטומטיים עשויים להכיל שגיאות או אי דיוקים. המסמך המקורי בשפתו המקורית צריך להיחשב כמקור סמכותי. עבור מידע קריטי, מומלץ להשתמש בתרגום מקצועי אנושי. איננו אחראים לאי הבנות או לפרשנויות שגויות הנובעות משימוש בתרגום זה.