<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "66d1f5ea2cc33dc690a5fc4a8e2a666e",
  "translation_date": "2025-10-22T19:07:28+00:00",
  "source_file": "docs/operative-preview/04-agent-instructions/README.md",
  "language_code": "tw"
}
-->
# 🕵️‍♂️ 任務 04：撰寫代理指令

--8<-- "disclaimer.md"

## 🕵️‍♂️ 行動代號：`秘密指令行動`

> **⏱️ 行動時間窗口：** `~45 分鐘`

## 🎯 任務簡介

特工，您的下一個任務是 **秘密指令行動**——掌握通過精確指令和描述進行代理溝通與控制的藝術。

您的任務（如果您選擇接受）是學習撰寫清晰、可操作的指令的關鍵技能，指導您的代理做出智能決策、使用正確的工具和知識來源，並與其他代理無縫合作。您還將掌握撰寫高品質描述的技巧，幫助代理理解其資源，並以精準的方式回應使用者的問題。

這是您在代理心理學和行為改造方面的高級訓練。就像一名外勤特工需要清晰的任務參數才能成功，您的 AI 代理需要精心設計的指令才能以清晰、精確的方式行動，並在真實世界場景中提供有價值的情報。

---

## 🔎 目標

完成此任務後，您將能夠：

- **指令掌握**：理解在 Copilot Studio 中撰寫代理指令的藝術與科學
- **策略指導**：學習如何指導代理使用工具、知識來源並與其他代理合作
- **操作清晰度**：確保您的代理以精確、透明和高效的方式行動

---

## 📝 撰寫代理指令

撰寫有效的代理指令是成功代理行為的關鍵。指令用於代理：

- 決定使用哪個工具、主題或知識來源來處理使用者問題或自主觸發
- 根據可用的上下文填寫工具輸入
- 生成回應給最終使用者

### 指令如何運作

指令必須基於為您的代理配置的工具、主題和知識來源。代理無法執行針對其未擁有的資源的指令。例如，如果您指示代理搜索網站 FAQ，您必須將該 FAQ 添加為知識來源。

您可以在指令中使用 `/` 引用特定工具、主題、變數或 Power Fx 表達式。這有助於代理準確地知道何時使用什麼。

### 指令中應包含什麼

- 添加指令以指導代理的選擇，特別是在可能存在模糊性的情況下。
- 使用指令設置防護措施，例如限制主題或指定回應格式。
- 提供填寫工具輸入的提示，例如：「在幫助使用者撰寫電子郵件時，使用潛在客戶的聯絡欄位中的電子郵件地址。」
- 指定回應的格式，例如：「關於訂單狀態的回應應始終以表格格式提供。」
- 使用約束限制代理行動，例如：「僅回應有關員工福利的請求。」

### 實際範例

- 「僅在問題與營業時間、預約或帳單無關時使用 FAQ 文件。」
- 「僅使用票務創建主題來創建票務；對於其他與修復問題相關的請求，使用故障排除主題。」
- 「關於訂單狀態的回應應始終以表格格式提供。」

### 測試與改進

- 編輯指令後，使用測試面板驗證代理行為。
- 根據需要更新並發布更改。

### 高級指導

- 將指令編號或列成清單，並指定必須按順序執行。
- 使用 Markdown 格式提高可讀性，並幫助生成式 AI 處理您的指令。
- 如果希望代理非常具體，請考慮為該用例創建一個主題。
- 在指令中使用工具和主題的準確名稱以避免混淆。

### 安全與審核

- 限制代理在引用知識來源時應使用的工具。
- 限制工具的參數（例如僅向指定的個人電子郵件）。
- 使用指令防止不必要的行為或內容過濾問題。

---

## ✍️ 為工具、主題和代理撰寫描述

高品質的描述對生成式編排至關重要。您的代理使用這些描述來選擇正確的工具、主題和代理以回應使用者問題和觸發。遵循以下最佳實踐：

- **使用簡單直接的語言**：避免使用行話、俚語或過於技術性的術語。使用主動語態和現在時態撰寫。
- **具體且相關**：包含與功能和使用者意圖相關的關鍵字。確保描述清楚地區分類似的工具或主題以避免模糊。
- **簡短且資訊豐富**：將描述限制在一到兩句話內。概述工具、主題或代理的功能及其對使用者的益處。
- **使用獨特且具描述性的名稱**：避免使用通用名稱。例如，使用「明天的天氣預報」而不是僅僅「天氣」。
- **列出行動或考量事項**：在描述多個功能或步驟時使用項目符號或編號清單以提高清晰度。
- **測試重疊**：如果多個主題有相似的描述，您的代理可能會同時調用它們。測試並修訂以防止重疊。

!!! example "良好與不良描述範例"
    **良好：** 此主題提供世界任何地點的次日天氣資訊，包括溫度。不提供今日的即時天氣。
    **不良：** 此工具可以回答問題。 *(過於模糊)*

---

## 🛠️ 指令與描述的最佳實踐

為了使您的指令和描述真正有效，請記住以下原則：

- 使用主動語態和現在時態（例如：「此工具提供天氣資訊」）。
- 除非必要，否則避免使用行話、俚語或不必要的技術術語。
- 使用項目符號或編號清單分隔行動、功能或考量事項。
- 包含與使用者意圖及工具或主題功能相匹配的關鍵字。
- 確保類似資源的名稱和描述具有區別性以避免混淆和重疊。

---

## 🗂️ 指令結構範例

撰寫指令時，考慮以下結構以提高清晰度和完整性：

1. **概述**：簡要描述代理的任務和角色
1. **流程步驟**：列出代理應遵循的主要步驟
1. **合作點**：指出何時調用其他代理或使用特定工具
1. **安全與審核**：包含任何合規或安全要求
1. **反饋回路**：指定代理應如何收集反饋或升級問題

---

## 🧪 實驗室：撰寫代理指令

*實驗室內容即將推出...*

---

## 🎉 任務完成

任務 04 已完成！您現在擁有：

✅ **指令掌握**：學會撰寫清晰、可操作的代理指令  
✅ **策略指導**：指導代理有效使用工具並合作  
✅ **操作清晰度**：確保代理以精確和透明的方式行動

接下來是 [任務 05](../05-agent-responses/README.md)：自訂代理回應以達到最大效果。

---

## 📚 策略資源

📖 [Microsoft Copilot Studio - 撰寫指令](https://learn.microsoft.com/microsoft-copilot-studio/authoring-instructions)  
📖 [生成模式指導](https://learn.microsoft.com/microsoft-copilot-studio/guidance/generative-mode-guidance)  

---

**免責聲明**：  
本文件已使用 AI 翻譯服務 [Co-op Translator](https://github.com/Azure/co-op-translator) 進行翻譯。儘管我們努力確保翻譯的準確性，但請注意，自動翻譯可能包含錯誤或不準確之處。原始文件的母語版本應被視為權威來源。對於關鍵信息，建議使用專業人工翻譯。我們對因使用此翻譯而產生的任何誤解或誤釋不承擔責任。