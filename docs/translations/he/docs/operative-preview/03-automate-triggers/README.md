<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "75efaf515d5694d4fd549bfd6518901a",
  "translation_date": "2025-10-17T01:59:21+00:00",
  "source_file": "docs/operative-preview/03-automate-triggers/README.md",
  "language_code": "he"
}
-->
# משימה 03: הוספת טריגרים לאירועים לפעולה אוטונומית

--8<-- "disclaimer.md"

## 🕵️‍♂️ שם קוד: `מבצע נקודת אות`

> **⏱️ חלון זמן המבצע:** `~45 דקות`

## 🎯 תקציר המשימה

ברוך שובך, סוכן. ב-[משימה 02](../02-multi-agent/README.md) - למדת כיצד לבנות סוכן משנה לקליטת בקשות וסוכן מחובר להכנה לראיונות כדי להרחיב את יכולות הסוכן הראשי שלך לגיוס עובדים.

המשימה שלך, אם תבחר לקבל אותה, היא **מבצע נקודת אות** - צלילה עמוקה לתוך **טריגרים לאירועים** - שדרוג מערכת הסוכנים שלך ממצב תגובתי לפעולה **אוטונומית**. תוכל להפוך את הסוכנים שלך מסוכנים שממתינים לקלט אנושי לסוכנים שמגיבים באופן יזום לאירועים חיצוניים ונוקטים פעולה חכמה ללא פיקוח.

חשוב על זה כשדרוג מסוכנים ש_עונים על שאלות_ לסוכנים ש_צופים צרכים_ ו_פועלים באופן עצמאי_. באמצעות טריגרים לאירועים וזרימות עבודה אוטומטיות, סוכן הגיוס שלך יזהה מיילים נכנסים עם קורות חיים, יעבד קבצים מצורפים באופן אוטומטי, ישמור נתונים ב-Dataverse, ויודיע לצוות הגיוס שלך ב-Microsoft Teams - כל זאת בזמן שאתה מתמקד במשימות בעלות ערך גבוה יותר.

ברוך הבא לעולם שבו אוטומציה פוגשת אינטליגנציה.

## 🔎 מטרות

במשימה זו תלמד:

1. כיצד טריגרים לאירועים מאפשרים התנהגות אוטונומית של סוכן ללא אינטראקציה עם משתמש
1. ההבדלים בין סוכנים אינטראקטיביים לאוטונומיים ב-Copilot Studio
1. כיצד ליצור טריגרים לאירועים שמטפלים באופן אוטומטי בקבצים מצורפים למייל ומעלים קבצים ל-Dataverse
1. כיצד לבנות זרימות סוכן שמפרסמות כרטיסים אדפטיביים לערוצי Teams לצורך התראות
1. כיצד להעביר נתונים בין טריגרים לאירועים וזרימות סוכן לצורך אוטומציה מקצה לקצה

## 🤔 מהו טריגר לאירוע?

ב-[Recruit](../../recruit/10-add-event-triggers/README.md) למדנו על טריגרים לאירועים. בואו נעשה סקירה מהירה למקרה שפספסתם.

**טריגרים לאירועים** מאפשרים לסוכן _לפעול_ בעצמו כאשר משהו קורה במערכת אחרת - ללא צורך בהודעת משתמש. כאשר האירוע המוגדר מתרחש - כמו "פריט חדש ב-SharePoint", "מייל חדש", "משימה ב-Planner שהוקצתה", או אפילו חזרה מבוססת זמן, מחבר שולח מטען טריגר לסוכן שלך. הסוכן עוקב אחר ההוראות שלך כדי להחליט אילו פעולות או נושאים לקרוא.

### מאפיינים מרכזיים

- **הפעלה אוטונומית:**
      - בניגוד לטריגרים לנושאים שמתחילים כאשר משתמש מקליד לסוכן, טריגרים לאירועים מופעלים מאירועים חיצוניים, ומאפשרים התנהגות יזומה.

- **מונע מטען:**
      - כל אירוע מספק מטען (משתנים + הוראות אופציונליות) דרך מחבר. הסוכן משתמש בהוראות שהגדרת ובמטען כדי לבחור מה לעשות הלאה.
      - לדוגמה _קריאה לנושא_ או _ביצוע פעולות שהוגדרו על ידי כלים_.

- **דוגמאות מוכנות לשימוש:**
      - קובץ או פריט שנוצר ב-SharePoint/OneDrive
      - משימה ב-Planner שהושלמה/הוקצתה
      - תגובה שהוגשה ב-Microsoft Forms
      - חזרה/לוח זמנים

    הזמינות תלויה במדיניות הנתונים של הארגון שלך שהוגדרה ב-Power Automate.

- **דורש תזמור גנרטיבי:**
      - טריגרים לאירועים זמינים רק כאשר תזמור גנרטיבי מופעל עבור הסוכן.

- **חיוב/שימוש:**
      - כל משלוח טריגר נחשב כהודעה במסגרת קיבולת Copilot Studio.
      - לדוגמה, חזרה של 10 דקות שולחת הודעה כל 10 דקות.

- **מודל אימות והגדרה:**
      - אתה מוסיף טריגרים בתוך סקירת הסוכן, תחת _טריגרים_. האימות עבור מחבר הטריגר משתמש בחשבון של יוצר הסוכן ("אימות יוצר הסוכן").
      - ניתן לערוך פרמטרים ומטען של טריגר בפורטל יוצר Power Automate.

- **בדיקה וניטור:**
      - ניתן לבדוק טריגרים מפאנל הבדיקה של הסוכן ולבחון את ההתנהגות עם מפת הפעילות לפני הפרסום.

!!! info "בקצרה למפתחים"

    חשבו על טריגרים לאירועים כעל **אותות דמויי webhook** שמזרימים מטען מובנה לתוך הסוכן שלכם, ומאפשרים לו _להתחיל_ עבודה ולשרשר פעולות בין מערכות - ללא צורך בהמתנה לבקשת משתמש.

### טריגרים לנושאים - כיצד הם שונים

בעבר למדתם על טריגרים לנושאים ב-[Recruit](../../recruit/07-add-new-topic-with-trigger/README.md), אך ייתכן שאתם עדיין תוהים כיצד _טריגרים לנושאים_ שונים מ_טריגרים לאירועים_, ולמה ההבדל הזה חשוב להבנת מה הופך סוכן לאוטונומי.

טריגרים לנושאים שולטים _מתי נושא מופעל_, בדרך כלל בתגובה להודעת משתמש.

- בתזמור גנרטיבי, הטריגר המוגדר כברירת מחדל הוא **על ידי סוכן** - המתכנן בוחר נושא ששמו/תיאורו מתאים ביותר להודעת המשתמש.
- בתזמור קלאסי, ברירת המחדל היא **ביטויים** - המתכנן בוחר נושא כאשר ביטוי טריגר אחד או כמה מתאימים ביותר להודעת המשתמש.

סוגי טריגרים אחרים כוללים `הודעה התקבלה`, `אירוע התקבל`, `פעילות התקבלה`, `עדכון שיחה`, `Invoke התקבל`, `חוסר פעילות`, ו`תוכנית הושלמה`.

!!! info "הבדל מרכזי"

    טריגרים לנושאים הם _מפעילי פעילות שיחה_ בתוך הצ'אט.
    
    טריגרים לאירועים הם _מפעילי אירועים מערכתיים_ שמועברים דרך מחברים ויכולים להפעיל את הסוכן ללא כל שיחה.

### מדריך מהיר: טריגר לנושא מול טריגר לאירוע

- **טריגר לנושא:** משתמש (או פעילות בצ'אט) אמר/עשה X ➡️ הפעל נושא T.
- **טריגר לאירוע:** SharePoint/Planner/מייל/טיימר הופעל עם מטען P ➡️ הסוכן מעריך הוראות ➡️ קורא פעולות/נושאים בהתאם.

## 🏓 סוכן אינטראקטיבי מול סוכן אוטונומי - השוואה

עכשיו כשאתם יודעים את ההבדל בין טריגרים לאירועים לטריגרים לנושאים, בואו נלמד על ההבדל בין סוכן אינטראקטיבי לסוכן אוטונומי.

במונחי Copilot Studio, "אינטראקטיבי" מתייחס לסוכנים שמתקשרים בעיקר דרך **נושאים** בצ'אט או ערוץ. "אוטונומי" מתייחס לסוכנים שמנצלים גם **טריגרים לאירועים** כדי לפעול ללא קלט משתמש.

הטבלה הבאה מסכמת את ההבדלים והדמיון ביניהם.

| ממד                               | סוכן אינטראקטיבי     | סוכן אוטונומי                                                                                              |
|-------------------------------------|-----------------------|---------------------------------------------------------------------------------------------------------------|
| כיצד הוא מתחיל                    | משתמש (או פעילות בצ'אט) מפעיל נושא. דוגמה: על ידי סוכן, ביטויים, הודעה התקבלה.   | טריגר לאירוע חיצוני שולח מטען דרך מחבר לסוכן. דוגמה: SharePoint, Planner, מייל, לוח זמנים, וכו'. |
| שימוש עיקרי                       | שאלות ותשובות, זרימות עבודה מודרכות, פעולות מונעות בקשה בצ'אט - Teams, אינטרנט, וכו'.  | פעולות יזומות ואוטומציה ברקע - תגובה לשינויים במערכת ואז הודעה, תיוק או תזמור משימות. |
| משטח טריגר                        | טריגרים לנושאים: על ידי סוכן / ביטויים / הודעה התקבלה / סוגי פעילות / Invoke / חוסר פעילות / תוכנית הושלמה | ספריית טריגרים לאירועים דרך מחברים; המטען כולל נתוני אירוע + הוראות אופציונליות. |
| מתכנן (תזמור גנרטיבי)             | מנוצל מאוד עבור טריגרים על ידי סוכן ותוכנית הושלמה לבחירה/רצף נושאים. | נדרש עבור טריגרים לאירועים; הסוכן משתמש בהוראות + מטען כדי להחליט אילו פעולות/נושאים לקרוא. |
| דוגמה טיפוסית                     | משתמש שואל "מה מדיניות ההחזר שלנו?" → נושא מופעל, מבצע שאילתה במאגר מידע, משיב. | משימה חדשה ב-Planner הוקצתה → טריגר לאירוע מופעל → הסוכן מפרסם הודעה ב-Teams, מעדכן רשומה או קורא לנושא. |
| נתיב הגדרה                        | יצירת נושאים, הגדרת סוג טריגר, כתיבת דיאלוג/פעולות; פרסום לערוצים. | הוספת טריגר לאירוע (סקירה → טריגרים), אימות מחבר עם אישורי יוצר הסוכן, הגדרת מטען/הוראות; בדיקה דרך פאנל הבדיקה; פרסום. |
| אימות וממשל                       | פועל תחת הקשר ערוץ/אימות; טריגרים לנושאים מגיבים לפעילויות בצ'אט בערוצים מורשים. | זמינות טריגר תלויה במדיניות נתוני Power Automate; מחברים פועלים תחת חשבון יוצר הסוכן. |
| ניטור                             | בדיקת נושאים בתוך Copilot Studio, בחינת תמלילי שיחות/פעילויות. | שימוש בבדיקת טריגר ומפת פעילות לאימות ביצוע לפני פרסום, מעקב אחר פעילות לאחר פרסום. |
| השפעה על קיבולת                   | כל הודעת משתמש/תגובה של סוכן היא הודעה שצורכת קיבולת. | כל משלוח אירוע הוא גם הודעה, בנוסף לכל פעולה שלאחר מכן. דוגמה: חזרה של 10 דקות = 6 הודעות/שעה |

### מתי להשתמש במה?

- בחרו **טריגרים לנושאים (אינטראקטיביים)** כאשר משתמשים יוזמים את השיחה עם הסוכן - שאלות נפוצות, קליטה מודרכת או משימות בסגנון פקודה בתוך הצ'אט. טריגר על ידי סוכן של המתכנן מפחית את הצורך באיסוף ביטויים ידני.
- הוסיפו **טריגרים לאירועים (אוטונומיים)** כאשר הסוכן צריך להתחיל את השיחה או לנקוט פעולה בעצמו - על עדכונים ב-SharePoint/Dataverse, מייל נכנס או על לוח זמנים. זה מעביר אתכם מפעולות תגובתיות לפעולות יזומות.

## טיפים למפתחים ודגשים

1. **הפעילו תזמור גנרטיבי** עבור כל סוכן שברצונכם להפוך לאוטונומי. טריגרים לאירועים לא יופיעו אחרת.

1. **תכננו את המטען מוקדם.** החליטו אילו שדות מינימליים הסוכן שלכם צריך מהטריגר כמו `itemId`, `assignedTo`, `dueDate` והוסיפו הוראות תמציתיות שמספרות לסוכן אילו פעולות/נושאים לקרוא בהתבסס על ערכי המטען.

1. **טווח האימות חשוב.** טריגרים מאמתים באמצעות חשבון יוצר הסוכן. ודאו שלחשבון יש את ההרשאות הנכונות למחבר ועומד במדיניות נתוני Power Automate.

1. **שליטה בעלות ורעש.** חזרות בתדירות גבוהה או מקורות רועשים מאוד יכולים להגדיל את צריכת ההודעות במהירות - הגבילו היכן שניתן או הוסיפו תנאים בטריגר לסינון אירועים.

1. **בדקו לפני פרסום.** השתמשו ב-**בדיקת טריגר** ובמפת הפעילות כדי לצפות בתוכנית ובפעולות שנקראו - בצעו שינויים בהוראות/מטען עד שההתנהגות תהיה יציבה.

## 🧪 מעבדה 03 - אוטומציה של מיילים עם קורות חיים של מועמדים

כעת נוסיף טריגר לאירוע לסוכן **גיוס עובדים** ונבנה זרימת סוכן בסוכן המשנה **קליטת בקשות** כדי לטפל בעיבוד נוסף לצורך אוטונומיה.

### ✨ תרחיש שימוש

!!! info ""

    **בתור** מגייס/ת משאבי אנוש

    **אני רוצה** לקבל התראה כאשר מייל עם קורות חיים מגיע לתיבת הדואר שלי והועלה באופן אוטומטי ל-Dataverse

    **כדי שאוכל** להישאר מעודכן לגבי קורות חיים שנשלחו במייל עבור בקשות שהועלו באופן אוטומטי ל-Dataverse

נשיג זאת באמצעות שתי טכניקות:

1. טריגר לאירוע כאשר המייל מגיע,
    1. בדיקת `contentType` של הקובץ שווה ל-`PDF` כסוג הפורמט.
    1. חילוץ הקובץ והעלאה ל-Dataverse באמצעות פעולות דרך מחבר Dataverse.
    1. לאחר מכן שליחת הנחיה לסוכן לעיבוד נוסף על ידי העברת פרמטרי קלט מפעולות Dataverse.

1. זרימת סוכן תתווסף לסוכן המשנה **קליטת בקשות** שתופעל על ידי ההנחיה בטריגר לאירוע.
    1. שימוש בפרמטרי הקלט שהועברו מההנחיה של הטריגר לאירוע בכרטיס אדפטיבי שיפורסם בערוץ ב-Microsoft Teams כדי להודיע לצוות הגיוס. הכרטיס האדפטיבי יכיל קישור לשורה ב-Dataverse שתוצג בסוכן **גיוס עובדים**.

בואו נתחיל!

### ✨ דרישות מקדימות להשלמת המשימה

תצטרכו **או**:

- **לסיים את משימה 01 ומשימה 02** ולהכין את סוכן הגיוס שלכם, **או**
- **לייבא את פתרון ההתחלה של משימה 03** אם אתם מתחילים מאפס או צריכים להשלים. [הורדת פתרון ההתחלה של משימה 03](https://aka.ms/agent-academy)

!!! note "ייבוא פתרון ונתוני דוגמה"
    אם אתם משתמשים בפתרון ההתחלה, עיינו ב-[משימה 01](../01-get-started/README.md) להוראות מפורטות על ייבוא פתרונות ונתוני דוגמה לסביבה שלכם.

תצטרכו גם גישה ל-**Microsoft Teams** כדי להשלים את תרגיל המעבדה השני של פרסום כרטיס אדפטיבי ל-Microsoft Teams.

### מעבדה 3.1 - אוטומציה של העלאת קורות חיים ל-Dataverse שהתקבלו במייל

1. בסוכן הגיוס, גללו מטה בלשונית **סקירה כללית** ובחרו **+ הוספת טריגר**.

       ![הוספת טריגר לסוכן](../../../../../translated_images/3.1_01_AddTrigger.4d5f4d13a4a6b19fe9ff89e3a483601199d7643236d6df65ff81dfea76d1d443.he.png)

1. תופיע רשימת טריגרים. בחרו **כאשר מייל חדש מגיע (V3)** ובחרו **הבא**.

       ![בחירת טריגר כאשר מייל חדש מגיע (V3)](../../../../../translated_images/3.1_02_WhenANewEmailArrives.a250875915165d97c1af6eebba70f16fbfc845a37d4d354c9f35a55aa459035e.he.png)

1. כעת נראה את **שם הטריגר** ואת **התחברות** הפניות החיבור לאפליקציות המפורטות.

       שנו את שם הטריגר לשם הבא,
    
       ```text
       כאשר מייל חדש מגיע ממועמד
       ```

       ודאו שאתם רואים סימן ירוק ליד כל הפניות החיבור לאפליקציות המפורטות. אם אינכם רואים סימן ירוק, התחברו דרך שלוש הנקודות (...) ובחרו **+ הפניית חיבור חדשה** כדי ליצור הפניית חיבור חדשה.

       ![עדכון פרטים עבור שם הטריגר ובדיקת הפניות חיבור](../../../../../translated_images/3.1_03_RenameTriggerName.3eb80b25bea5f874a51aab600ffd333359de3a981e41eed1b4fc7c8f27eef323.he.png)

1. השלב האחרון הוא להגדיר את מאפייני הקלט של הטריגר. עדכנו את המאפיינים הבאים לערכים הבאים,

     | מאפיין | כיצד להגדיר | פרטים |
     |----------|------------|---------|
     | **כלול קבצים מצורפים (אופציונלי)** | תפריט נפתח | כן |
     | **מסנן נושא (אופציונלי)** | הקלדה/הזנה עם מקלדת | בקשה |
     | **רק עם קבצים מצורפים (אופציונלי)** | תפריט נפתח | כן |

       בחר
עכשיו נעדכן את הטריגר של האירוע כדי להוסיף יכולות אוטומציה נוספות. בחרו ב**שלוש הנקודות (...)** ליד הטריגר ובחרו **ערוך ב-Power Automate**.

![בחרו ערוך ב-Power Automate](../../../../../translated_images/3.1_05_SelectEditInPowerAutomate.d298b51d7980cf2fd20a9d8193745aef4ce8097a4a2d33341e2dc159b9bfc099.he.png)

1. הטריגר ייטען כזרימה בפורטל היצירה של Power Automate. מה שאתם רואים הוא מעצב הזרימה בפורטל היצירה של Power Automate. כאן ניתן להוסיף לוגיקה ופעולות נוספות לאוטומציה. הטריגר יופיע בראש, ואחריו **שולח הנחיה לקופילוט המוגדר לעיבוד** כפעולה האחרונה בזרימה.

![מעצב זרימה בפורטל היצירה של Power Automate](../../../../../translated_images/3.1_06_EditInPowerAutomate.f8967ace56354224574517f31a2a2ce0a5b5d3ab85bfb9ec6cf70e83ab1b8e6d.he.png)

1. כברירת מחדל, הטריגר **כאשר מגיע אימייל חדש** ב-Power Automate עשוי לעבד מספר אימיילים יחד אם כמה מגיעים בו זמנית, ולהפעיל את הזרימה רק פעם אחת עבור הקבוצה.

כדי להבטיח שהזרימה תפעל בנפרד עבור כל אימייל, הפעילו את הגדרת **Split On** בהגדרות הטריגר ובחרו `@triggerOutputs()?['body/value']` בשדה המערך הנפתח.

עם **Split On** מופעל ושדה המערך מוגדר ל-`@triggerOutputs()?['body/value']`, הזרימה תפעל בנפרד עבור כל הודעה, גם אם רבות מגיעות בו זמנית.

![הפעילו את הגדרות Split On בטריגר](../../../../../translated_images/3.1_07_UpdateTriggerSettings.0f363c4f4655276732575fa795bf1ad1568df34d34b703c85073591cc8585609.he.png)

1. עכשיו נוסיף לוגיקה לבדוק את סוג הקובץ של הקובץ המצורף. אנחנו רוצים להעלות רק קבצים מצורפים מסוג .PDF ולא תמונות (שיכולות להגיע מחתימות אימייל). בחרו באייקון **+** מתחת לטריגר ובחרו **Control** תחת סעיף **כלים מובנים**.

![בחרו Control](../../../../../translated_images/3.1_08_Control.2fa6987b64ae20d5c8343d1b15937432ab6c893750c4b1427df56067023fd437.he.png)

1. בחרו בפעולה **Condition**.

![בחרו בפעולת Condition](../../../../../translated_images/3.1_09_AddConditionAction.a7eec0b2a42d4a7c54bd305f0c480b72e3feec155a4e2468e12279082257f21f.he.png)

1. עכשיו נגדיר את התנאי לבדוק אם סוג הקובץ המצורף הוא .PDF. בשדה **Choose a value**, בחרו באייקון **ברק** או **fx** בצד ימין.

1. בשדה **Search** הקלידו את הטקסט הבא:

```text
content type
```

1. לאחר מכן, בחרו בפרמטר **Attachments Content-Type** מהטריגר.

1. לאחר מכן, בחרו **Add** כדי להוסיף את הקלט הדינמי לפרמטר **Id** של הפעולה.

![הגדירו את פעולת Condition](../../../../../translated_images/3.1_10_SetDynamicContentValue_V2.23c3d0438146a5ff0d695077e65a3b1c8b230b54c51ded8a099c6e99a948e9ed.he.png)

1. נעצור כאן לרגע, כנראה שמתם לב שפעולת **For each** הופיעה באופן אוטומטי.

בחרו בפעולת **For each**. פעולה זו מייצגת לולאה שעוברת על כל קובץ מצורף באימייל, מכיוון שפרמטר **Attachments Content-Type** מהטריגר קשור לכל קובץ מצורף.

מתחת לפני השטח, מדובר במערך ולכן פעולת **For each** נוספה באופן אוטומטי כשבחרנו בפרמטר **Attachments Content-Type** בפעולת **Condition**.

כדי ללמוד עוד על כך, הרחיבו את בלוק הלמידה הנוסף הבא.

??? info "למידה נוספת: הופעת פעולת For each באופן אוטומטי"

🤔 **מדוע "Apply to each" או "For each" מופיעים באופן אוטומטי?**

כאשר אתם בוחרים פרמטר (תוכן דינמי) שמייצג רשימה או מערך של פריטים - לדוגמה, רשימת קבצים מצורפים, אימיילים או שורות - Power Automate מזהה שאולי תרצו לעבד כל פריט בנפרד.

כדי לעזור לכם לעשות זאת, Power Automate מוסיף באופן אוטומטי לולאת **“Apply to each”** (או **For each**) סביב הפעולה שלכם. זה מבטיח שהפעולה שלכם תתבצע פעם אחת עבור כל פריט ברשימה, במקום לנסות לעבד את כל הרשימה בבת אחת (מה שעלול לגרום לשגיאות).

🦋 **דוגמה**

- אם תבחרו "Attachments" מפעולה קודמת (שהיא מערך), ותנסו להשתמש בה בפעולה שמצפה לקובץ יחיד, Power Automate עוטף את הפעולה שלכם בלולאת **"Apply to each"** (או **For each**).
- כך, הפעולה שלכם תתבצע עבור **כל קובץ מצורף** - אחד בכל פעם.

💡 **נקודות מפתח**

- **אוטומטי:** הלולאה מופיעה באופן אוטומטי כדי לעזור לכם לעבד כל פריט באוסף.
- **מונע שגיאות:** ללא הלולאה, הפעולה שלכם עשויה להיכשל מכיוון שהיא לא יכולה להתמודד עם מספר פריטים בבת אחת.
- **רמז חזותי:** זהו דרך חזותית להראות שהזרימה תחזור על הפעולה עבור כל פריט ברשימה.

![הסבר על פעולת For Each](../../../../../translated_images/3.1_11_ForEach.82bd7b62b815fdbcd67acff0a633137cf03175940c670361ea8669b0df892927.he.png)

1. בשדה **Choose a value** השני, הקלידו את הטקסט הבא:

```text
application/pdf
```

זה יבטיח שעבור כל קובץ מצורף, תיבדק אם פורמט סיומת הקובץ הוא .PDF.

![EqualToValue](../../../../../translated_images/3.1_12_EqualToValue.66c107cb8105c1cd3d166b8a5bf690b8dfc30aa2bd2af83c438a9e44d1b544b0.he.png)

1. עכשיו נגדיר את נתיב **True** כדי לחלץ את הקובץ מהאימייל ולהעלות אותו לטבלת **Resume** ב-Dataverse.

הוסיפו פעולה חדשה מתחת לנתיב **True** וחפשו `html to text`. בחרו בפעולה **Html to text**.

כדי ללמוד עוד על פעולת **Html to text**, הרחיבו את בלוק הלמידה הנוסף הבא.

??? info "למידה נוספת: פעולת Html to text"

🤔 **מהי פעולת "HTML to text"?**

פעולת **HTML to text** ב-Power Automate משמשת להמרת תוכן בפורמט HTML לטקסט רגיל. זה שימושי במיוחד כאשר מקבלים נתונים (כמו אימיילים, תוכן אינטרנט או תגובות API) שמכילים תגי HTML, ורוצים לחלץ רק את הטקסט הקריא ללא עיצוב או קוד.

⚙️ **איך זה עובד?**

- **קלט:** מספקים מחרוזת של תוכן HTML (לדוגמה, גוף של אימייל).
- **פלט:** הפעולה מסירה את כל תגי ה-HTML ומחזירה רק את הטקסט הרגיל.

👍🏻 **מתי כדאי להשתמש בזה?**

- כאשר רוצים לחלץ טקסט קריא מאימיילים, דפי אינטרנט או תגובות API שמכילים HTML.
- לפני שליחת תוכן למערכות שלא תומכות בעיצוב HTML (כמו SMS, הודעות Teams או מסדי נתונים).
- לניקוי נתונים לצורך עיבוד או ניתוח נוסף.

🔭 **איפה למצוא את זה?**

- ב-Power Automate עבור Agent Flows, חפשו את הפעולה בשם `HTML to text`. היא נמצאת תחת מחבר **Data Operations**.

💡 **נקודות מפתח**

- מסירה את כל תגי ה-HTML ומשאירה רק את הטקסט.
- לא מפרשת או מבצעת סקריפטים/סגנונות - רק מסירה תגיות.
- שימושי לניקוי נתונים והכנת תוכן לפלטים בטקסט רגיל.

![הוסיפו פעולת HTML to text](../../../../../translated_images/3.1_13_AddHTMLToTextAction.2aa9468b87dbeb847c083f24da0fe99438b39f826b13a70982ec255a97c2aa80.he.png)

1. עכשיו נצטרך ליצור הפניה חדשה לחיבור עבור פעולת **Html to text** על ידי בחירת **Add new**.

![הוסיפו הפניה חדשה לחיבור](../../../../../translated_images/3.1_14_AddNewConnection.4a23546976b62e7f0e882ac1379950e5bfdcaa702070313cb84a1d22b06a79a7.he.png)

1. עכשיו ניתן להגדיר את הפעולה. הוסיפו את הפרמטר **Body** מהטריגר. בשדה **Content**, בחרו באייקון **ברק** או **fx** בצד ימין.

![הוסיפו תוכן דינמי](../../../../../translated_images/3.1_15_AddDynamicContent.0624a9808f55b993efb6d00bf941a88389655e2ab9970ba2b9a1538272fe9643.he.png)

1. בלשונית **Dynamic content**, חפשו `body` ובחרו בפרמטר **Body**, ולאחר מכן בחרו **Add**.

![הוסיפו פרמטר Body](../../../../../translated_images/3.1_16_AddDynamicContent.40b7eccc080c20513eed5663062b2a63d40d6482eaf2d42fe4e29cb94797f098.he.png)

1. סיימנו להגדיר את הפעולה הזו, אז נצא מהפעולה על ידי בחירת שני סוגריים זוויתיים («) המצביעים שמאלה כדי לסגור את הפאנל.

![סגרו את פאנל הפעולה](../../../../../translated_images/3.1_17_CollapseAction.ca2c346efb58f8240372c3d145fa10ba609cab1c2075d7df1a9388c82fab79f5.he.png)

1. נוסיף פעולה חדשה על ידי בחירת **אייקון +** מתחת לפעולת **Html to text**, מה שיטען את הפאנל להוספת פעולות. בחרו במחבר **Microsoft Dataverse**.

![הוסיפו פעולה חדשה](../../../../../translated_images/3.1_18_AddDataverseAction.5f4be9eb96e22dac239e5545bab5ad9d08b138c2cbcbc700680f33445e132506.he.png)

1. בחרו בפעולה **Add a new row**.

![הוסיפו פעולה Add a new row](../../../../../translated_images/3.1_19_AddANewRow.48e0a3868821e59ed2a299ccb6a521af27b2430082381d48be38087be62c7c15.he.png)

1. שנו את שם הפעולה על ידי בחירת **שלוש הנקודות (...)**, העתקו והדביקו את הטקסט הבא כשם:

```text
Add a new Resume row
```

עבור פרמטר **Table name**, חפשו `res` ובחרו בטבלת **Resumes**.

![שנו את שם הפעולה והגדירו את פרמטר Table name](../../../../../translated_images/3.1_20_RenameAndSelectResumesTable.89f8485653abb7fda1d6eb44210951f05a05ed6f7450a51895079dfd8e72c8bf.he.png)

1. בחרו בשדה **Resume Title** ובחרו באייקון **ברק** או **fx** בצד ימין.

![הגדירו את פרמטר Resume Title](../../../../../translated_images/3.1_21_AddDynamicContent.9ee1f89420d5a4aa56797944166208f6e9b0ec67116625168fbcefb907850224.he.png)

1. בלשונית **Function**, הזינו את הביטוי הבא שמשתמש בפונקציה `item()`:

```text
item()?['name']
```

כדי ללמוד עוד על פונקציית `item()`, הרחיבו את בלוק הלמידה הנוסף הבא.

??? info "למידה נוספת: פונקציית `item()`"

🤔 **מהי פונקציית `item()`?**

- כאשר משתמשים בפעולת **Apply to each**, Power Automate עובר על כל אלמנט באוסף (מערך).
- היא משמשת בעיקר בתוך פעולות כמו **Apply to each** (או **For each**), **Select**, או **Filter array**.

⚙️ **איך זה עובד?**

- `item()` היא פונקציה שמחזירה את הפריט הנוכחי שעובר עיבוד בלולאה או בפעולת מערך.
- בתוך הלולאה, `item()` מתייחסת ל_אלמנט הנוכחי_ שעובר עיבוד.

📌 **איפה משתמשים בזה?**

- **Apply to each:** כדי לגשת לתכונות של הפריט הנוכחי.
- **Select:** כדי לשנות כל פריט במערך.
- **Filter array:** כדי להתייחס לפריט הנוכחי שנבדק.

🦋 **דוגמה**

- ביטוי בתוך לולאה:
       -  `item()?['Email']`
- זה מקבל את תכונת ה-`Email` של הפריט הנוכחי.

💡 **נקודות מפתח**

- `item()` הוא _תלוי הקשר_: הוא תמיד מתייחס לפריט הנוכחי בלולאה או בפעולת מערך שבה אתם נמצאים.
- אם אתם מקננים לולאות, תוכלו להשתמש ב-`items('LoopName')` כדי להתייחס לפריטים בלולאה ספציפית.

בחרו **Add** כדי להוסיף את הביטוי לפרמטר **Resume Title**.

![הוסיפו ביטוי לפרמטר Resume Title](../../../../../translated_images/3.1_22_ResumeTitleParameter.9e4fa71a5251cb899e7b09bcc3052eeda1e512841f929118eb9e2b1d232ecb07.he.png)

1. עדיין צריך להגדיר כמה פרמטרים נוספים, בחרו **Show all** ובשדה **Cover Letter**, בחרו באייקון **ברק** או **fx** בצד ימין.

בלשונית **Function**, הזינו את הביטוי הבא שמשתמש באותו ביטוי במשימה הקודמת [mission](../02-multi-agent/README.md).

```text
if(greater(length(body('Html_to_text')), 2000), substring(body('Html_to_text'), 0, 2000), body('Html_to_text'))
```

ביטוי זה בודק אם _הטקסט_ מפעולת **Html to text** ארוך מ-2000 תווים, ואם כן, מחזיר רק את 2000 התווים הראשונים; אחרת, מחזיר את הטקסט המלא.

![הוסיפו ביטוי לפרמטר Cover Letter](../../../../../translated_images/3.1_23_CoverLetterParameter.d2b521d6b37d05ac4760c91de2964b6d062585a333af6989d9ac0794a4139463.he.png)

1. הביטוי יתווסף עכשיו לשדה **Cover Letter**.

![הביטוי נוסף לפרמטר Cover Letter](../../../../../translated_images/3.1_24_ExpressionForCoverLetter.3d18124b10b76bad92db61c529ae395b0bb05f3215e3b783771e76ef7677664e.he.png)

1. עבור שדה **Source Email Address**, חפשו `from` ובחרו בפרמטר **From** מהטריגר, מכיוון שהוא מכיל את ערך כתובת האימייל.

![פרמטר Source Email Address](../../../../../translated_images/3.1_25_FromParameter.1ed1be46711f6705fb807996f6f1e873adc22e285186a851272e0cf3855487ef.he.png)

1. עבור שדה **Upload Date**, בחרו באייקון **ברק** או **fx** בצד ימין. בלשונית **Function**, הזינו את הביטוי הבא שמשתמש בפונקציה `utcNow()`:

```text
utcNow()
```

כדי ללמוד עוד על פונקציית `utcNow`, הרחיבו את בלוק הלמידה הנוסף הבא.

??? info "למידה נוספת: פונקציית `utcNow`"

🤔 **מהי פונקציית `utcNow()`?**

- פונקציית utcnow() ב-Power Automate מחזירה את התאריך והשעה הנוכחיים בזמן אוניברסלי מתואם (UTC) בפורמט ISO 8601, כמו: `2025-09-23T04:32:14Z`.

🦋 **דוגמה**

- ביטוי:
       -  `concat('Report generated on ', utcnow())`
- הפלט הוא:
       - Report generated on `2025-09-23T04:32:14Z`

💡 **נקודות מפתח**
- **אין צורך בארגומנטים (פרמטרים קלט):** תמיד מחזיר את חותמת הזמן הנוכחית ב-UTC.
   - **שימושים**
       - הוספת חותמות זמן ליומנים או שמות קבצים
       - השוואת הזמן הנוכחי עם תאריכים אחרים
       - תזמון או תנאים מבוססי זמן

![פרמטר תאריך העלאה](../../../../../translated_images/3.1_26_UploadDateParameter.21b0afc9807bf680c1c432066f1644d4d018cb4988ad0c0788b5186cea285e02.he.png)

1. סיימנו כעת להגדיר את הפעולה **הוספת שורה חדשה לקורות חיים**, אז בואו נצא מהפאנל על ידי קריסתו.

![יציאה מפאנל הפעולה](../../../../../translated_images/3.1_27_CollapseAction.c033a86e4d8501b10fc454ba7f9c5e08d71d6d881fc72f58011152e1c5d7a7bb.he.png)

1. נוסיף פעולה חדשה על ידי בחירת **אייקון +** מתחת לפעולה **הוספת שורה חדשה לקורות חיים**, מה שיטען את הפאנל להוספת פעולות. בחרו שוב את מחבר **Microsoft Dataverse**.

![הוספת פעולה של Dataverse](../../../../../translated_images/3.1_28_AddDataverseAction.1af4dedc95001bfb56b0a642231e9c82b57459b10c68bf6fc177382339a0a221.he.png)

1. בחרו את הפעולה **העלאת קובץ או תמונה**.

![הוספת פעולה של העלאת קובץ או תמונה](../../../../../translated_images/3.1_29_AddUploadAFileOrAnImage.e40ab21b735e37bd1fdb5020b7433d1a2f01d6e387bc43a437e970c6e20ee779.he.png)

1. שנו את שם הפעולה על ידי בחירת **שלוש נקודות (...)**, העתקו והדביקו את השם הבא:

```text
Upload Resume File
```

![שינוי שם הפעולה](../../../../../translated_images/3.1_30_RenameAction.c316fdf225f88e5c3ee26649e672472829c3372c804b544a1372b0455937c204.he.png)

1. בחרו בשדה **Content name** הבא ולחצו על **אייקון הברק** או **אייקון fx** בצד ימין.

בכרטיסיית **Function**, הזינו את הביטוי הבא שמשתמש בפונקציה `item ()`. זה מקבל את תכונת `name` של הפריט הנוכחי (קובץ המצורף).

```text
item()?['name']
```

![הגדרת פרמטר שם התוכן](../../../../../translated_images/3.1_31_ContentNameParameter.c6606773f1e82dbcea93d7c2f52dff7a2168f9f04d6b865f699f56d62a41d4ec.he.png)

1. עבור פרמטר **Table name**, חפשו `res` ובחרו את טבלת **Resumes**.

![הגדרת פרמטר שם הטבלה](../../../../../translated_images/3.1_32_SelectResumesTable.6a00bf6d585002219003da47f6e1042dc67cbdb3fbaf7d959253550035e27520.he.png)

1. בחרו בשדה **Row ID** הבא ולחצו על **אייקון הברק** או **אייקון fx** בצד ימין.

חפשו `ID` ובחרו את פרמטר **Resume** מפעולת Dataverse _הוספת שורה חדשה_, שכן הוא מכיל את ערך ה-ID של השורה שאליה יועלה קובץ ה-PDF.

בחרו **Add**.

![בחירת פרמטר Row ID](../../../../../translated_images/3.1_33_RowIDParameter.9824c6b5ea5edf0ce018140c20431a97c2e750d61bcb787f67da260acb6a3838.he.png)

1. בחרו בשדה **Column name** ובחרו באפשרות **Resume PDF**.

![הגדרת פרמטר שם העמודה](../../../../../translated_images/3.1_34_ColumnNameParameter.ef4f770cbd84cae5c15cfe06d1bdbe028d0c6d54a2286dab30769fa01c948b71.he.png)

1. בחרו בשדה **Content** ולחצו על **אייקון הברק** או **אייקון fx** בצד ימין.

בכרטיסיית **Function**, הזינו את הביטוי הבא שמשתמש בפונקציה `item ()`. זה מקבל את תכונת `contentBytes` של הפריט הנוכחי (קובץ המצורף). `contentBytes` מתייחס לנתוני בינארי גולמיים של קובץ או קובץ מצורף, מקודדים כמחרוזת Base64.

```text
item()?['contentBytes']
```

1. סיימנו להגדיר את הפעולה הזו, אז בואו נצא מהפעולה על ידי בחירת שני סוגריים זוויתיים («) המצביעים שמאלה כדי לקרוס את הפאנל.

![קריסת פאנל הפעולה](../../../../../translated_images/3.1_36_CollapseAction.1813a7219f0f37b87f80c2cd9f5a9626c3a320858d08a0e62cf14736f97db4c6.he.png)

1. כעת, בחרו את **שולח בקשה לקופילוט המוגדר לעיבוד**, ואז גררו ושחררו את הפעולה הזו מתחת לפעולה **Upload Resume File** בנתיב _True_ של התנאי.

![גרירה ושחרור פעולה בנתיב True](../../../../../translated_images/3.1_37_DragAndDropAction.57dc2e9f9d25ed892a4fc072a72c55eca6c38e313ab48fb9db37e9371995440f.he.png)

1. בחרו את **שולח בקשה לקופילוט המוגדר לעיבוד** כדי להגדיר אותה.

![בחירת פעולה](../../../../../translated_images/3.1_38_SelectAction.d125bdf661f66b6397542c75efbc6a78b8c4862e03dce4002776c251f1c48382.he.png)

1. בשדה **Body/message**, בחרו את כל תוכן השדה ונקו/מחקו אותו.

![ניקוי פרמטר Body](../../../../../translated_images/3.1_39_ClearBodyParameter.6a345b2e5dbe5510184d7bae7cd406b8cec72c714f34bb40e30741e445a491c0.he.png)

1. העתקו והדביקו את הטקסט הבא לשדה **Body/message** והדגישו את `RESUME ID PLACEHOLDER`.

```text
Send [ResumeId (text)] = "RESUME ID PLACEHOLDER" and [ResumeTitle (text_1)] = "RESUME TITLE PLACEHOLDER" and [ResumeNumber (text_2)]= "RESUME NUMBER PLACEHOLDER" to the Tool "Notify Teams Applicant channel" in the child agent "Application Intake Agent"
```

![החלפת טקסט RESUME ID Placeholder](../../../../../translated_images/3.1_40_ReplaceResumeIDPlaceholder.eb61590503cb37d89121aaed6d979a4272aa30c87700206e04db8005e60b294f.he.png)

1. בחרו **אייקון הברק** או **אייקון fx** בצד ימין.

חפשו `resume` ובחרו את פרמטר **Resume** מפעולת Dataverse _הוספת שורה חדשה_, שכן הוא מכיל את ערך ה-ID של שורת קורות החיים שנוצרה.

בחרו **Add**.

![בחירת פרמטר Resume](../../../../../translated_images/3.1_41_SelectResumeParameter.61c4457c33e5d1b596169857535bfc560ef677264f8798e9148ceac999eeaeb9.he.png)

1. הדגישו את `RESUME TITLE PLACEHOLDER`. בחרו **אייקון הברק** או **אייקון fx** בצד ימין.

חפשו `title` ובחרו את פרמטר **Resume Title** מפעולת Dataverse _הוספת שורה חדשה_, שכן הוא מכיל את ערך כותרת קורות החיים של השורה שנוצרה.

בחרו **Add**.

![בחירת פרמטר Resume](../../../../../translated_images/3.1_42_SelectResumeTitleParameter.6c887607128f928da15c4cf6c22254d0473bc22514aa883462fd812bf14245e0.he.png)

1. הדגישו את `RESUME NUMBER PLACEHOLDER`. בחרו **אייקון הברק** או **אייקון fx** בצד ימין.

חפשו `resume number` ובחרו את פרמטר **Resume Number** מפעולת Dataverse _הוספת שורה חדשה_, שכן הוא מכיל את ערך מספר קורות החיים של השורה שנוצרה.

בחרו **Add**.

![בחירת פרמטר Resume](../../../../../translated_images/3.1_43_SelectResumeNumberParameter.ca19197525250483a7e94598b621072b47ebdf5deb939e1387c979e807ddc554.he.png)

1. סיימנו להגדיר את הפעולה הזו ואת זרימת הסוכן שלנו 🙌🏻 אתם עושים עבודה נהדרת! עכשיו נשמור את זרימת האירוע שלנו על ידי בחירת **Save draft**.

![שמירת טיוטה](../../../../../translated_images/3.1_44_SaveDraft.0c9eee19f0c7cb8483b8d31bc17e1dd54075352d22f0f44603a9d52b52429188.he.png)

1. כעת עלינו לערוך את פרטי זרימת הסוכן, בחרו **Back**.

![בחירת Back](../../../../../translated_images/3.1_45_Back.3f85535977bdb02231a0fdb8465e0e8b7d86fd5342ff933e4ae8bf9610279989.he.png)

1. בחרו **Edit** בסעיף **Details** ועדכנו את **Plan** לאפשרות **Copilot Studio**.

בחרו **Save**.

![שינוי תוכנית Copilot Studio](../../../../../translated_images/3.1_46_ChangePlanDetails.6ab15f1f8bd9ebe55b2c1576c3495f47d1a29d7435e343d4c590e46647601269.he.png)

1. יופיע מודאל שיבקש מכם לאשר מעבר לתוכנית Copilot Studio. בחרו **Confirm**.

![אישור שינוי תוכנית Copilot Studio](../../../../../translated_images/3.1_47_ConfirmCopilotStudioPlan.bc6ab52e7c982127154b0fb743f85ff9cc05dcab944dffc9485bdbcbe0811397.he.png)

1. התוכנית עודכנה כעת ל-**Copilot Studio**. בחרו **Edit** מכיוון שעלינו לפרסם את זרימת האירוע עבור הסוכן שלנו.

![עריכת זרימה](../../../../../translated_images/3.1_48_PlanChangedAndEdit.3c3207766a648817f7a7878c3a6f684cf41cdceea4dca8f6fc43b7315c8dd648.he.png)

1. בחרו **Publish**.

![פרסום](../../../../../translated_images/3.1_49_Publish.38ff814cfce6b3be1076cafb0c28e4e344f75d8cd4117fabed13ad361d4fde3f.he.png)

יש! זרימת האירוע פורסמה עכשיו 😃

![פורסם](../../../../../translated_images/3.1_50_Published.449e7867f7b027ae8a524c749357a1b931955062828bacc3b5a51e979755ef4a.he.png)

בואו נמשיך ביצירת זרימת סוכן חדשה שתופעל על ידי **סוכן קבלת הבקשות**.

### מעבדה 3.2 - הודעה לערוץ Teams באמצעות כרטיס אדפטיבי

כעת ניצור זרימת סוכן חדשה עבור **סוכן קבלת הבקשות** שמשתמש בערכים שהועברו על ידי טריגר האירוע, כדי לפרסם כרטיס אדפטיבי לערוץ Teams. כרטיס אדפטיבי זה יתריע בפני צוות הגיוס של משאבי אנוש על קובץ ה-PDF שהועלה אוטומטית כדי שיוכלו לבדוק אותו.

בואו נתחיל!

1. ב-**סוכן הגיוס** בחרו בכרטיסיית **Agents** ובחרו את **סוכן קבלת הבקשות**.

![בחירת סוכן קבלת הבקשות](../../../../../translated_images/3.2_01_SelectApplicationIntakeAgent.0e9dd3da5c52e9f59ab3a4545c01897ad830853b650ec42f7f8424aa530e0409.he.png)

1. גללו למטה ל-**Tools** ובחרו **+ Add**.

![הוספת כלי](../../../../../translated_images/3.2_02_AddNewTool.7c62275fd9f28cdc1923ea056a148171048dc568ff78056958fd54862133f90e.he.png)

1. יופיע מודאל **Add tool**. בחרו **+ New tool**.

![בחירת כלי חדש](../../../../../translated_images/3.2_03_SelectNewTool.215e7637a9f065a3799a1ecf248eed1e859f201d2dfdfab71a7c1dc18e454e2d.he.png)

1. בחרו **Agent flow**.

![בחירת זרימת סוכן](../../../../../translated_images/3.2_04_SelectAgentFlow.7bc12b3435efccc0cfee8f563640562f87d173b436b3313a3d1256fe35024907.he.png)

1. לאחר מכן ייטען **מעצב זרימת הסוכן**. בטריגר **When an agent calls the flow**, בחרו **+ Add an input**.

![בחירת הוספת קלט](../../../../../translated_images/3.2_05_SelectAddAnInput.f3dc8465f490929baccb0f2dc72b50629b1435ff8a3861f7974885d1d36cdeb1.he.png)

1. בחרו **Text** כסוג קלט המשתמש.

![בחירת טקסט](../../../../../translated_images/3.2_06_SelectText.93585b4af8c4e277c11c2052b638e249508a24a075987026a6ec346e75184217.he.png)

1. בשדה הטקסט של הקלט, העתקו והדביקו את השם הבא עבור פרמטר הקלט.

```text
ResumeId
```

![קלט ResumeId](../../../../../translated_images/3.2_07_ResumeIdInput.a9e127e343856d6c6d45dd1251cade0503bad9484bc563c02155390951b1faa5.he.png)

1. חזרו על אותם שלבים כדי להוסיף קלט טקסט שני. העתקו והדביקו את השם הבא עבור פרמטר הקלט.

```text
ResumeTitle
```

![קלט ResumeTitle](../../../../../translated_images/3.2_08_ResumeTitleInput.c71ecd364a974a93abb0de876807c2e9bde59fcea6df317babeb20764b636f26.he.png)

1. חזרו על אותם שלבים כדי להוסיף קלט טקסט שלישי. העתקו והדביקו את השם הבא עבור פרמטר הקלט.

```text
ResumeNumber
```

![קלט ResumeNumber](../../../../../translated_images/3.2_09_ResumeNumberInput.a6c060000354deab51dffef3c1ad9f13378cfeabdafdb7a33c2a591bfd044709.he.png)

1. זוכרים איך ב-[Recruit](../../recruit/08-add-adaptive-card/README.md#81-create-a-new-topic-with-an-adaptive-card-for-user-to-submit-their-request) הוספנו כרטיס אדפטיבי בתוך נושא עבור הסוכן שלנו? הפעם, נוסיף כרטיס אדפטיבי בזרימת סוכן. כעת נוסיף פעולה נוספת לזרימת הסוכן שלנו שתפרסם כרטיס אדפטיבי לערוץ Teams.

בחרו **אייקון +** מתחת לטריגר.

![הוספת פעולה חדשה](../../../../../translated_images/3.2_10_AddNewAction.4474a2150991cac246d5e4091a74ba91e76e1c5bafa34ad985a8567c09dcdd35.he.png)

1. בחרו בפעולה **Post card in a chat or channel**.

![בחירת פעולה של פרסום כרטיס בצ'אט או בערוץ](../../../../../translated_images/3.2_11_SelectPostCardInAChatOrChannel.97de43ed1c883b14d0150ae65efaa90f53f0815bdf57ec10e0e22cbd3e22ce06.he.png)

1. יש ליצור הפניה לחיבור ל-Microsoft Teams עם חשבון המשתמש שלכם. בחרו **Sign in**.

![בחירת כניסה](../../../../../translated_images/3.2_12_SignInToCreateConnectionReference.2297f8b702d71508f1b21a3ed4046df4846dc03b13932a20e5c445403559ac1f.he.png)

1. בחרו את חשבון המשתמש שלכם ואז בחרו **Allow access**.

![בחירת אפשר גישה](../../../../../translated_images/3.2_13_AllowAccess.31cbf82606d75231108bd4f2bfeafffda3cd7e7e760cd46004c2705afe050aaf.he.png)

1. עבור פרמטרי הקלט הבאים,

| פרמטר | איך להגדיר | פרטים |
|----------|------------|---------|
| **Post as** | תפריט נפתח | בחרו באפשרות `Flow bot` |
| **Post in** | תפריט נפתח | בחרו באפשרות `Channel` |
| **Team** | תפריט נפתח | בחרו צוות שזמין בסביבתכם ושיש לכם גישה אליו לצורך ביצוע תרגיל מעבדה זה |
| **Channel** | תפריט נפתח | בחרו ערוץ שזמין בסביבתכם ושיש לכם גישה אליו לצורך ביצוע תרגיל מעבדה זה |

![הגדרת פרמטרי קלט](../../../../../translated_images/3.2_14_ConfigureParameters.8c21924f90db3acaa33d4e35ef43c70556ba4cc37207a195ac654e55a43400a6.he.png)

1. כעת, נגדיר את שדה **Adaptive Card**. בחרו בשדה **Adaptive Card**.

![בחירת שדה כרטיס אדפטיבי](../../../../../translated_images/3.2_15_SelectAdaptiveCardParameter.65323056be6174d2eed7422650aaa70fc16396148f90b8af1801110d7a30d66f.he.png)

1. פתחו את [קובץ JSON של טבלת קורות חיים מעודכנת](../../../../../docs/operative-preview/03-automate-triggers/assets/3.2_ResumeTableUpdated.json), העתיקו את כל תוכנו והדביקו אותו לשדה כרטיס אדפטיבי.

![העתקה והדבקת JSON](../../../../../translated_images/3.2_16_JSON.f022097fb7139bd12514abb8fdc518309ea940f005cc94a11ba159359cde784b.he.png)

1. בדומה למה שעשינו ב-[Recruit](../../recruit/08-add-adaptive-card/README.md#81-create-a-new-topic-with-an-adaptive-card-for-user-to-submit-their-request), נחליף ערכים קיימים ב-JSON עם ערכים אמיתיים או תוכן דינמי.

ראשית, נעדכן את ה-URL עבור תכונת `url` בתוך תכונת `selectAction`. URL זה יוחלף בכתובת ה-URL של תצוגת המערכת של קורות החיים באפליקציית **Hiring Hub** המונעת-מודל. זה יאפשר למגייס לבחור את הפעולה ולהיות מופנה לתצוגת המערכת של קורות החיים באפליקציה המונעת-מודל.

הדגישו את ערך ה-URL הנוכחי ומחקו אותו.

![בחירת ערך URL](../../../../../translated_images/3.2_17_SystemViewURL.5e51fd894ac916f436107c7b668d66ca87ca8bdfd7affeb7dae1b10fa8ff5afb.he.png)

1. באפליקציית **Hiring Hub** המונעת-מודל, נווטו לתצוגת המערכת של **Resumes** באמצעות תפריט הצד השמאלי והעתיקו את ה-URL. לאחר מכן, חזרו לזרימת הסוכן והדביקו את ה-URL שהועתק לתכונת **url** בתוך תכונת `selectAction`.

![העתקת URL של תצוגת מערכת קורות חיים](../../../../../translated_images/3.2_18_CopyResumesSystemViewURL.14d9f55c7db15977a12dfe2a5df95aab5cf241e646b08f9838cff31aaa27a381.he.png)
1. אתם אמורים לראות את הפרטים הבאים, כאשר המסומן בצהוב הוא פרטי הסביבה של אפליקציית **Hiring Hub** המונעת על ידי מודל.

     | פרמטר | ערך | הסבר |
     |----------|------------|---------|
     | **Organization URI** | GUID | כתובת ה-URL של ארגון הסביבה של Dataverse/Dynamics 365 |
     | **appid** | GUID | לפתיחת אפליקציה מונעת על ידי מודל ספציפי, נעשה שימוש בפרמטר השאילתה appid או appname. במקרה זה, נעשה שימוש ב-appid |
     | **viewid** | GUID | פרמטר השאילתה שהוא מזהה התצוגה |

       ![הדבק URL](../../../../../translated_images/3.2_19_PasteURL.41f3fdd66190c8ba478857f91c90eb05ee9621243bda7b7ad26eb5802b8e970d.he.png)

1. כעת נוסיף ערכים של תוכן דינמי למספר מאפיינים. נתחיל עם הטקסט שיציג את מספר קורות החיים של השורה שנוצרה באופן אוטונומי על ידי טריגר האירוע.

      בחרו באייקון **panel** כדי לטעון את לוח הפעולות.

       ![בחרו באייקון panel](../../../../../translated_images/3.2_20_SelectPannelIcon.786a4147ba12e0e62648c66f14fb2b9a7f89b27c3a610f43420e31cb0c9fb5da.he.png)

1. גללו למטה לשורה שבה אתם רואים את מאפיין `text` עבור `RESUME NUMBER PLACEHOLDER`. סמנו את ערך המיקום ומחקו אותו.

       ![מחקו מיקום](../../../../../translated_images/3.2_21_DeleteResumeNumberPlaceholder.6ffd7a5a073f9d9a11e0e119c87e827243de237f70ebc3ab37dfdd36de615130.he.png)

1. לחצו בין סימני הציטוט הכפולים ובחרו באייקון **lightning bolt** או **fx icon** בצד ימין.

      בלשונית **Dynamic Content** בחרו בפרמטר **ResumeNumber** ולחצו על **Add**.

       ![הוסיפו פרמטר ResumeNumber](../../../../../translated_images/3.2_22_SelectResumeNumberParameter.de5a6eecb3ee092441d841ad137dfecd9f8d503a370ff60eb5ccdc0267e37df0.he.png)

1. פרמטר **ResumeNumber** יתווסף כעת כתוכן דינמי למאפיין `text`.

       ![תוכן דינמי ResumeNumber](../../../../../translated_images/3.2_23_ResumeNumberDynamicContent.129a566ac6e9d448b268b828da5766a7056779ac167f65b498e2ca21d703b7f0.he.png)

1. נחזור על אותם צעדים עבור `RESUME NAME PLACEHOLDER`. גללו למטה לשורה שבה אתם רואים את מאפיין `text` עבור `RESUME NAME PLACEHOLDER`. סמנו את ערך המיקום ומחקו אותו.

       ![מיקום שם קורות חיים](../../../../../translated_images/3.2_24_ResumeNamePlaceholder.6c879b99ae375892f7e0a511bfedd5fa9e60a8dea71ea2a44c2a7a04c8389f43.he.png)

1. לחצו בין סימני הציטוט הכפולים ובחרו באייקון **lightning bolt** או **fx icon** בצד ימין.

      בלשונית **Dynamic Content** בחרו בפרמטר **ResumeTitle** ולחצו על **Add**.

       ![הוסיפו פרמטר ResumeTitle](../../../../../translated_images/3.2_25_SelectResumeTitleParameter.18c769bbd2c60e362a56f6055e151ed6287903cb625addcdfbb43044828d7378.he.png)

1. פרמטר **ResumeTitle** יתווסף כעת כתוכן דינמי למאפיין `text`.

       ![תוכן דינמי ResumeTitle](../../../../../translated_images/3.2_26_ResumeTitleDynamicContent.7219e078f71fc0d5d4a6bb228ba2d53f0898ba26a27c5eb859df90d12dd52c70.he.png)

1. נחזור על אותם צעדים עבור ערך **Due Date** שמייצג את המועד שבו המגייס צריך לעיין בקורות החיים. גללו למטה לשורה שבה אתם רואים את מאפיין `text` עבור `May 21, 2023`.

       ![בחרו באפשרות גישה](../../../../../translated_images/3.2_27_DueDatePlaceholder.17c6003cc9ec1141b0aeb5cde203098a7f5534fa11f01a3cbffb66206ed1633a.he.png)

1. מחקו את ערך המיקום של תאריך זה ולחצו בין סימני הציטוט הכפולים.

       ![מחקו](../../../../../translated_images/3.2_28_DeleteDueDatePlaceholder.9a3df55fb3c9ed72e61e0a60dc3344335b0444ff537c9fb51036b0442a85d268.he.png)

1. בחרו באייקון **lightning bolt** או **fx icon** בצד ימין ובלשונית **Function**, הזינו את הביטוי הבא ולחצו על **Add**.

       ```text
       addDays(utcNow(), 3, 'MMM dd, yyyy')
       ```

      ביטוי זה משתמש בשתי פונקציות.

     | פונקציה | הסבר |
     |----------|------------|
     | **addDays** | מוסיף מספר ימים מסוים לתאריך נתון ומחזיר את התאריך המתקבל בפורמט מחרוזת |
     | **utcNow** | מחזיר את התאריך והשעה הנוכחיים בפורמט זמן אוניברסלי מתואם (UTC) כמחרוזת. |

      עבור ערך utcNow, אנו מעצבים את התאריך להיות חודש ותאריך, ואחריו השנה.

       ![ביטוי Due Date](../../../../../translated_images/3.2_29_01_ExpressionDueDate.a4fa31985f5500971f2fc6da0e81e008af12be19d54a30a240764b74a4b2dbcb.he.png)

      הביטוי יתווסף כעת למאפיין `text`.

       ![ביטוי Due Date](../../../../../translated_images/3.2_29_02_ExpressionDueDate.6159288450731c7b09628af70f0c9a6d92590ca7c7e39e8a524ae8af7c511f2c.he.png)

1. לבסוף, נעדכן את ה-URL עבור מאפיין `url` בתוך מאפיין מערך `actions` בתחתית מטען ה-JSON. כתובת ה-URL הנוכחית של המיקום תוחלף בכתובת ה-URL של שורת קורות החיים באפליקציית **Hiring Hub** המונעת על ידי מודל. זה יאפשר למגייס לבחור בפעולה `Action.OpenURL` של הכרטיס האדפטיבי ולהיות מופנה לקורות החיים באפליקציה המונעת על ידי מודל.

       ![מחקו מיקום URL של צפייה בקורות חיים](../../../../../translated_images/3.2_30_ViewResumeURLPlaceholder.f27af6cadfb54fb977f0b46ea3ec42ee0638d38ebc5d294eff5da52abf9d4a1b.he.png)

1. באפליקציית **Hiring Hub** המונעת על ידי מודל, פתחו שורה בתצוגת מערכת **Resumes** באמצעות תפריט הצד השמאלי. שורת קורות החיים תיטען כטופס באפליקציה המונעת על ידי מודל.

      העתיקו את כתובת ה-URL של שורת קורות החיים.

    ??? מידע "איך לחזור לאפליקציית **Hiring Hub** המונעת על ידי מודל במקרה שיצאתם/סגרתם אותה"

        1. גלשו ל-[https://make.powerapps.com](https://make.powerapps.com) וודאו שאתם בסביבת הפיתוח שבה אתם משתמשים עבור תרגילי המעבדה הללו, אחרת עברו אליה.
        
        ![גלשו ל-make.powerapps.com](../../../../../translated_images/3.2_31_Note_01_BrowseToURL.a13dfc8b05a0b34f3a4c853f3d3e418864176b52b1b40c069da7712af5562aa5.he.png)

        1. בחרו ב-**Apps** בלוח התפריט בצד שמאל ובאפליקציית **Hiring Hub** המונעת על ידי מודל, בחרו באייקון **Play** כדי לטעון אותה בדפדפן שלכם.
        
        ![בחרו באפליקציית Hiring Hub המונעת על ידי מודל](../../../../../translated_images/3.2_31_Note_02_HiringHubApp.a09b6ea28b4fea8932809cb847cb0ea3d8faeb7b7b5604852de1f46ab1e9741b.he.png)

       ![העתיקו כתובת URL של שורת קורות חיים](../../../../../translated_images/3.2_31_CopyResumeURL.f6156f8792526129c2613922f0137221b2944fa8ffe7c04766d710521ad8765b.he.png)

1. לאחר מכן, חזרו לזרימת הסוכן, סמנו את ערך כתובת ה-URL הנוכחית של המיקום ומחקו אותו.

       ![מחקו מיקום כתובת URL של שורת קורות חיים](../../../../../translated_images/3.2_32_SelectResumeURLPlaceHolder.8db783de292428eaa8937242eba4a54ebb1df7bf4c1bc9391b016ee545fb2b9f.he.png)

1. לאחר מכן, הדביקו את כתובת ה-URL שהועתקה למאפיין **url** בתוך מאפיין `url`.

       ![הדביקו את כתובת ה-URL של שורת קורות החיים שהועתקה](../../../../../translated_images/3.2_33_PasteResumeRowURL.d7ba92493d7597b89f75e2f17f76846ac17a9ba89c2e36729dc6b5dc1599b047.he.png)

1. אתם אמורים לראות את הבאים. מחקו את ערך מזהה ה-GUID בסוף. נחליף תוכן דינמי - הפרמטר **ResumeId**.

       ![מחקו מיקום URL של צפייה בקורות חיים](../../../../../translated_images/3.2_34_DeleteViewResumePlaceholderURL.7b26209eaeef6dc0a21b16140d05fe2f0e38de5f714575edd24d21dded58102a.he.png)

1. בחרו באייקון **lightning bolt** או **fx icon** בצד ימין.

      בלשונית **Dynamic Content** בחרו בפרמטר **ResumeId** ולחצו על **Add**.

       ![פרמטר ResumeId](../../../../../translated_images/3.2_35_ResumeIdParameter.3dc710a7f5216944387f4d5f82c0a372eee23ee5259dec04147ad00e9c454d7d.he.png)

1. פרמטר **ResumeId** יתווסף כתוכן דינמי. המסומן בצהוב הוא פרטי הסביבה של אפליקציית **Hiring Hub** המונעת על ידי מודל.

     | פרמטר | ערך | הסבר |
     |----------|------------|---------|
     | **Organization URI** | GUID | כתובת ה-URL של ארגון הסביבה של Dataverse/Dynamics 365 |
     | **appid** | GUID | לפתיחת אפליקציה מונעת על ידי מודל ספציפי, נעשה שימוש בפרמטר השאילתה appid או appname. במקרה זה, נעשה שימוש ב-appid |
     | **id** | GUID | פרמטר השאילתה שהוא מזהה שורת קורות החיים |

       ![תוכן דינמי ResumeId](../../../../../translated_images/3.2_36_ResumeIdDynamicContent.a1a40dfb4a83b60f1b75b02160890e3fec41c2c7df8adf32e02d652a57c1ee87.he.png)

1. סיימנו להגדיר את הפעולה **Post card in a chat or channel** 👏🏻 צאו מלוח הגדרת הפעולה על ידי בחירת אייקון **x**.

       ![סגור לוח](../../../../../translated_images/3.2_37_CloseActionPanel.23d07107381411aa9494ef36fb240682a0727a63e6f15082074b34a1defd517b.he.png)

1. לבסוף, נגדיר את הפעולה האחרונה, **Respond to the agent**, על ידי שליחת טקסט חזרה לסוכן לסיום העיבוד.

      בפעולה **Respond to the agent**, בחרו ב-**+Add an output**.

       ![בחרו ב-Add an output](../../../../../translated_images/3.2_38_AddAnOutput.de1a0e49033cb077eb5d2c226152bbb06dc12fb95d0496c69d469eecdb46c0ae.he.png)

1. בחרו ב-**Text** כסוג הפלט.

       ![בחרו בטקסט כסוג הפלט](../../../../../translated_images/3.2_39_SelectText.4e1e82c35fe9d1b569b668092d405aa9b0c81fbe67e7de68a660f2083ed3afdd.he.png)

1. הזינו את הבאים כשם הפלט.

       ![פלט סיום שיחה](../../../../../translated_images/3.2_40_EndConversationOutput.e392b58847d8439443c89459fccbbd88d4ea5e5fa562749b77407c46b9ff4ca4.he.png)

1. הזינו את הבאים כערך הפלט.

       ```text
       Finished
       ```

       ![ערך פלט סיום שיחה](../../../../../translated_images/3.2_41_EndConversationOutputValue.2cb836900ee9fca802926676e613b077938f1106cc16e77ddd77af64ce92dcc8.he.png)

1. סיימנו להגדיר את זרימת הסוכן. בחרו ב-**Save draft** כדי לשמור את זרימת הסוכן. הודעת אישור תופיע לאחר השמירה.

       ![שמור טיוטה](../../../../../translated_images/3.2_42_SaveDraft.1bb26eec40faf5d2c244d93f869344915e90423623e07e02cac2c1f8c73d1a4a.he.png)

1. לפני פרסום זרימת הסוכן, עלינו לעדכן את הפרטים עבור זרימת הסוכן. בחרו בלשונית **Overview** ובחרו ב-**Edit**.

      בשדה שם הזרימה, הזינו את הבאים.

       ```text
       Notify Teams Applicant channel
       ```      

      לאחר מכן, בחרו באייקון **Refresh** כדי לעדכן את תיאור זרימת הסוכן באמצעות AI.

      לאחר מכן, בחרו ב-**Save** כדי לשמור את הפרטים המעודכנים עבור זרימת הסוכן.

       ![ערכו ושמרו פרטים](../../../../../translated_images/3.2_43_EditDetails.f0c9b53a9c1b29e4aa3c34774680559ae9173f77b3a37817bab2296b77ffcca7.he.png)

1. חזרו ללשונית **Designer** ובחרו ב-**Publish** כדי לפרסם את זרימת הסוכן. הודעת אישור תופיע לאחר השמירה.

       ![פרסמו את זרימת הסוכן](../../../../../translated_images/3.2_44_PublishAgentFlow.3014e6de5e53aa5fc2021bf6e11b901c4990b4fbb4d4cee33cc6d5b6cc641ed8.he.png)

1. כעת יש להוסיף את זרימת הסוכן ככלי ב-**Application Intake Agent**. חזרו ל-**Hiring Agent** ובחרו בלשונית **Agents**, לאחר מכן בחרו ב-**Application Intake Agent**.

       ![בחרו ב-Application Intake Agent](../../../../../translated_images/3.2_45_ApplicationIntakeAgent.0446b1762d0f499e880e7984f59669639193566f72539cd4fba5c62cd1fe8726.he.png)

1. בסעיף **Details** של הסוכן, נעדכן את שדה **Description**. העתיקו את הבאים והדביקו בסוף טקסט התיאור.

       ```text
       and also notify the Teams Applicant channel
       ```

       ![עדכנו תיאור סוכן](../../../../../translated_images/3.2_46_UpdateAgentDescription.56344699cd3cc5e417e8f95362ed2288d0c0391f33bd98872e7e008a545175f0.he.png)

1. לאחר מכן, נוסיף את זרימת הסוכן ככלי. גללו למטה ובחרו ב-**+ Add**.

       ![בחרו ב-Add](../../../../../translated_images/3.2_47_AddTools.c7557e272bd731129dffe9edebba3b04170d27806aaa14fffbe3d66b7b61808b.he.png)

1. בחרו בזרימת הסוכן שנוצרה קודם, **Notify Teams Applicant Channel**.

       ![בחרו בזרימת הסוכן](../../../../../translated_images/3.2_48_NotifyTeamsApplicantChannelAgentFlow.5985f570786edef4eac93455f7a07978c0daf54e1371660bfd56a4c16b6aaf79.he.png)

1. לאחר מכן, בחרו ב-**Add and configure**.

       ![בחרו ב-Add and configure](../../../../../translated_images/3.2_49_AddAndConfigure.c2d6cccfa9e4bb23ff58b615ad16d0b3ade4ef867b73b9196a45df6990d8072f.he.png)

1. בסעיף **Inputs** של זרימת הסוכן, שלושת הקלטים שהגדרנו קודם בזרימת הסוכן נראים. כברירת מחדל, הגדרת **Fill using** מוגדרת ל-**Dynamically fill with AI**. נשאיר הגדרה זו כפי שהיא, מכיוון שההנחיה מטריגר האירוע (בפעולה האחרונה, **Sends a prompt to the specified copilot for processing** - זהו שלבים 38-44 של **Lab 3.1 - Automate uploading resumes to Dataverse received by email**) תכיל את ערכי הפרמטרים שה-AI יחלץ.

       ![קלטי זרימת הסוכן](../../../../../translated_images/3.2_50_Inputs.9fbb57b83b533d5a60f957505bb1e5430886ec9e6c70c10ed1c641d6b33fcc21.he.png)

1. כעת שהכלי נוסף ל-**Application Intake Agent**, יש לעדכן את ההוראות של הסוכן. בחרו באייקון **back arrow** כדי לחזור לרשימת הסוכנים.

       ![בחרו באייקון back arrow](../../../../../translated_images/3.2_51_SelectBack.6a9a55176d931895777822d3f9276d5d12ffe379a8860dd521e1c895e8188bba.he.png)

1. בחרו ב-**Application Intake Agent** בלשונית **Agents** של **Hiring Agent**.

       ![בחרו ב-Application Intake Agent](../../../../../translated_images/3.2_52_SelectApplicationIntakeAgent.039140313422e833389fd134b3a70a0eed11ba175ede5dbdc4abcce6004c7d2d.he.png)

1. בשדה **Instructions**, הזינו שורה חדשה לאחר הוראות `2.Post-Upload`. העתיקו והדביקו את ההוראות הבאות.

       ```text
       Process for Resume Upload via Email
       1. When you receive a message, **Send [ResumeId (text)] = "1680265f-5793-f011-b41b-7c1e525be9f7" and [ResumeTitle (text_1)] = "TAYLOR TESTPERSON (FICTITIOUS).pdf" and [ResumeNumber (text_2)]= "R01026" to the Tool "Notify Teams Applicant channel"** in the child agent "Application Intake Agent", call [AGENT FLOW PLACEHOLDER]
       ```

       ![עדכנו הוראות של Application Intake Agent](../../../../../translated_images/3.2_53_PasteCopiedInstructions.f24ed715e907cf023449a54b894354ca1252b198e9be694eec2875f7f647f9c2.he.png)

1. סמנו את הטקסט `[AGENT FLOW PLACEHOLDER`.

       ![סמנו מיקום](../../../../../translated_images/3.2_54_HighlightPlaceholder.6c3fcac3c8f4fb6e5cce2dbd6b6548b84652d009e20fa4a01183a9a1b42b24fb.he.png)

1. הזינו את תו הלוכסן, `/`, ובחרו בכלי **Notify Teams Applicant Channel**.

       ![בחרו בכלי Notify Teams Applicant Channel](../../../../../translated_images/3.2_55_NotifyTeamsApplicatnChannelTool.2e3dd1e9ee9b2dfe10e1f2feb7e3b74b08856ce3afb16dafae1f2c4b73da904f.he.png)
1. זרימת הסוכן תופעל כעת על ידי **סוכן קבלת הבקשות** בהתאם להוראות, לאחר הפעולה האחרונה (**שולח הנחיה לקופילוט המוגדר לעיבוד**) בהפעלת האירוע שולחת את ההנחיה שמכילה את ערכי הפרמטרים חזרה לסוכן.

      בחרו **שמור** כדי לשמור את ההוראות המעודכנות עבור **סוכן קבלת הבקשות**.

       ![בחרו שמור](../../../../../translated_images/3.2_56_Save.6abb0131f96b20d3753b5990313eaea6a237bef2bf0e2103a2ee5ba570fd7c04.he.png)

1. ההוראות יעודכנו כעת לאחר שהסוכן נשמר.

       ![ההוראות עודכנו](../../../../../translated_images/3.2_57_InstructionsUpdated.5bfbfe2ca1da16284358a9917246bd8676cd6c095839ed1c69361d992cacd2b3.he.png)

1. כעת עלינו **לפרסם** את **סוכן הגיוס**. בחרו **פרסם** בפינה הימנית העליונה, ובחלון _פרסם את הסוכן הזה_ שמופיע, בחרו **פרסם**.

       ![פרסם סוכן גיוס](../../../../../translated_images/3.2_58_PublishAgent.e7ec81c81b735de0cd11516aa944c759ea510e2b0bc9acf9f00d42d788896991.he.png)

1. לאחר הפרסום, תופיע הודעת אישור שהסוכן פורסם.

       ![הודעת אישור](../../../../../translated_images/3.2_59_AgentPublished.d15e01232544cf08943260dfbf61c92339dbd187620349e7c5a43add4796ed12.he.png)

כעת ניתן לבדוק את הסוכן!

### מעבדה 3.3 - בדיקת הפעלת אירוע

1. כדי להפעיל את האירוע, יש לשלוח אימייל עם קובץ PDF של קורות חיים. ב-Outlook, כתבו הודעת אימייל חדשה.

     | רכיב אימייל | פרטים |
     |----------|------------|
     | **לנמען** | השתמשו בחשבון המשתמש המחובר שלכם כערך |
     | **קובץ מצורף** | העלו את הקובץ [TAYLOR TESTPERSON (FICTITIOUS)](../../../../../docs/operative-preview/test-data/resumes/TAYLOR%20TESTPERSON%20(FICTITIOUS).pdf) |
     | **גוף ההודעה** | העתיקו והדביקו את הטקסט הבא כגוף ההודעה |

       ```text
       מנהל גיוס יקר,

       אני כותב כדי להביע את ענייני במשרת מהנדס פלטפורמת Power בכיר בארגונכם. עם ניסיון של מעל תשע שנים במתן פתרונות מאובטחים וניתנים להרחבה על פלטפורמות הענן של מיקרוסופט, אני בטוח ביכולתי לתרום באופן אפקטיבי לצוות שלכם.

       בתפקידי האחרון כמהנדס פלטפורמת Power ראשי, פיתחתי צינור קליטת קורות חיים אוטומטי, שהפחית את הצורך במיון ידני ושיפר את יכולת החיפוש. סיפקתי יישומי ניהול מקרים בתחום משאבי אנוש, הצגתי זרימות מודעות לפתרונות, ויישמתי בדיקות PR לשיפור זמני הפריסה. המומחיות שלי כוללת את Power Apps, Power Automate, Power Pages, Dataverse, ומגוון שירותי Microsoft 365, כמו גם אינטגרציה עם Graph/REST APIs ו-Azure Functions.

       בעבר, פיתחתי אישורים ב-Teams עם כרטיסים אדפטיביים, שהפחיתו את זמני האישור ליום אחד, ויצרתי מסגרות טיפול בשגיאות חזקות. הרקע שלי כולל גם מעבר של זרימות עבודה ישנות ל-Power Automate ובניית פורטלים לשירות עצמי שאומצו על ידי מאות עובדים.

       אני בעל תואר ראשון במדעי המחשב ומוסמך כ-מפתח פלטפורמת Power (PL-400) וכאדריכל פתרונות (PL-600). אני גם נלהב מהדרכה והתנדבתי בקבוצות יצרנים מקומיות.

       אנא מצאו את קורות החיים שלי מצורפים לשיקולכם. אשמח להזדמנות לדון כיצד הכישורים והניסיון שלי מתאימים לצרכים שלכם.

       תודה על זמנכם ותשומת הלב.

       בברכה,
       טיילור טסטפרסון
       ```

       **שלחו** את האימייל לאחר שכתבתם אותו.

       ![כתיבת אימייל עם קובץ PDF מצורף](../../../../../translated_images/3.3_01_ComposeEmailWithAttachment.eccba1bbcc276b4373277b193a66d8818b712c6ab9468ee12902545522b670f7.he.png)

1. בפורטל Power Automate עבור זרימת הפעלת האירוע, בחרו באייקון **רענן** כדי לצפות בהרצת הזרימה שהצליחה עבור האימייל שנשלח.

       ![בחרו באייקון רענן לצפייה בהרצת הזרימה](../../../../../translated_images/3.3_02_FlowRun.0e99756ebc5fba371dc72719b0619736626934461e58db2dc153535cbabcc1e8.he.png)

1. חזרו ל-Copilot Studio ב-**סוכן הגיוס** ובחרו בכרטיסיית **פעילות**.

       ![בחרו בכרטיסיית פעילות](../../../../../translated_images/3.3_03_SelectActivity.11d78735a8a2a1f64443d285deb47f2bacc5bd53ded039791215f9465dbc3f76.he.png)

1. כרטיסיית **פעילות** תיטען ותציג את כל הפעילויות של **סוכן הגיוס**. תהיה פעילות עם שם **אוטומטי** ובסטטוס **הושלם**. פעילות זו מייצגת את הפעלת האירוע ואת זרימת הסוכן שהופעלה.

       ![הפעילות הושלמה](../../../../../translated_images/3.3_04_StatusComplete.dbe14ffb9414b0f4d869841426c4ca595d7a664bf13f4b5e2e29a4e251b9064c.he.png)

1. בחרו בפעילות, ובחרו בהפעלת האירוע במפת הפעילות. בלוח הצד הימני, שימו לב כיצד הפרמטרים בהנחיה מכילים את ערכי הפרמטרים `Resume Id`, `Resume Title` ו-`Resume Number` מהשורה ב-**Dataverse** שנוצרה. זה נובע מערכי התוכן הדינמיים שהוגדרו קודם לכן בשלבים 18 - 27 של **מעבדה 3.1 - אוטומציה של העלאת קורות חיים ל-Dataverse שהתקבלו באימייל**.

       ![הפעלת אירוע](../../../../../translated_images/3.3_05_EventTrigger.cbd73cd43a79e88e782d1e47ac8ddacdbe30d582a4da61a31010f44a9dacdd12.he.png)

1. חזרו לאפליקציית **Hiring Hub** המונעת על ידי מודל ובתצוגת מערכת **קורות חיים**, בחרו **רענן** כדי לרענן את התצוגה. השורה החדשה שנוצרה עבור קורות החיים שנשלחו באימייל תופיע כעת, כפי שנוצרה דרך הפעלת האירוע.

       ![שורת קורות חיים שנוצרה](../../../../../translated_images/3.3_06_ResumeRowCreated.9ab850d8d7c066aad8531409b00a4de5f214b4d8d209d39fa0d493d5c55e041d.he.png)

1. חזרו ל-Copilot Studio ובחרו בזרימת הסוכן **Notify Teams Applicant Channel** בתוך **סוכן קבלת הבקשות** במפת הפעילות. בלוח הצד הימני, שימו לב כיצד הקלטים מכילים ערכים מהשורה ב-Dataverse. זה נובע מההנחיה שנשלחה על ידי הפעולה האחרונה (**שולח הנחיה לקופילוט המוגדר לעיבוד**) בהפעלת האירוע שמכילה את ערכי הפרמטרים מהשורה החדשה שנוצרה ב-Dataverse. כך ניתן להעביר ערכי פרמטרים מהפעלת אירועים לזרימות סוכן.

       ![בחרו בזרימת סוכן](../../../../../translated_images/3.3_07_NotifyTeamsApplicantChannel.9b6c4654197efca9c88dde72cfb38812038ef5f6bdce8c309046c02643092bb6.he.png)

1. לבסוף, בואו נסתכל על הכרטיס האדפטיבי שפורסם לערוץ ב-**Microsoft Teams**. בערוץ, נראה את הכרטיס האדפטיבי שמציג את המידע על השורה החדשה של קורות החיים ב-Dataverse. רחפו מעל הקישור בתחילת הכרטיס האדפטיבי, שימו לב כיצד כתובת ה-URL היא כתובת תצוגת מערכת קורות החיים שהוגדרה קודם לכן ב-JSON (שלבים 15 - 19 של **מעבדה 3.2 - הודעה לערוץ Teams באמצעות כרטיס אדפטיבי**) של הכרטיס האדפטיבי.

       ![כתובת URL של תצוגת מערכת טבלת קורות חיים בכרטיס אדפטיבי](../../../../../translated_images/3.3_08_AdaptiveCardResumeTableURL.5a59821d60c8698e5c9e4746806b975bbdf3c4400dc0bb02a53f350bdea569e9.he.png)

1. בחרו בקישור, ותועברו לתצוגת מערכת קורות החיים באפליקציית **Hiring Hub** המונעת על ידי מודל בדפדפן שלכם.

       ![תצוגת מערכת קורות חיים באפליקציית Hiring Hub המונעת על ידי מודל](../../../../../translated_images/3.3_09_ResumeTableSystemView.81f52ab85aadda7d9131ced31d024fb4b411ccf600dd230d9d7e931c476e271c.he.png)

1. חזרו לכרטיס האדפטיבי שפורסם לערוץ ב-Microsoft Teams. הפעם, רחפו מעל **צפה בקורות חיים** שהוא הפעולה `Action.OpenURL` של הכרטיס האדפטיבי. שימו לב כיצד כתובת ה-URL היא השורה של קורות החיים שהוגדרה קודם לכן ב-JSON (שלבים 30 - 36 של **מעבדה 3.2 - הודעה לערוץ Teams באמצעות כרטיס אדפטיבי**) של הכרטיס האדפטיבי.

       ![כתובת URL של שורת קורות חיים בכרטיס אדפטיבי](../../../../../translated_images/3.3_10_AdaptiveCardResumeRowURL.2063a075c2d4adec27dfcc2ea4c01a385d791e0c4fc127caba912bde14bf77d6.he.png)

1. בחרו בפעולה, ותועברו לטופס השורה של קורות החיים באפליקציית **Hiring Hub** המונעת על ידי מודל בדפדפן שלכם.

       ![שורת קורות חיים באפליקציית Hiring Hub המונעת על ידי מודל](../../../../../translated_images/3.3_11_ResumeRow.6f051ed512d396712a04ee98319d6643516e0bbfbf8a9de07d3df7d264563b9c.he.png)

## ✅ משימה הושלמה

ברכות! 👏🏻 עבודה מצוינת, אופרטיבי.

✅ הפעלת אירוע: יצרתם הפעלת אירוע שמעבירה ערכי פרמטרים מ-Dataverse לזרימת סוכן.  
✅ בניית זרימת סוכן: צריכת ערכי פרמטרים מ-Dataverse כדי לפרסם כרטיס אדפטיבי לערוץ ב-Microsoft Teams להתריע לצוות הגיוס של משאבי אנוש.  
✅ עדכון הוראות סוכן משנה: להפעלת הזרימה לאחר שהפעלת האירוע הושלמה.

זה מאפשר ל-**סוכן הגיוס** לעבוד באופן עצמאי בכל פעם שקורות חיים מתקבלים כקבצים מצורפים באימייל ולהודיע לצוות הגיוס של משאבי אנוש לביקורת ידנית.

זהו סוף **מעבדה 03 - אוטומציה של אימיילים של בקשות מועמדים**, בחרו בקישור למטה כדי לעבור לשיעור הבא.

⏭️ [עברו לשיעור **כתיבת הוראות סוכן**](../04-agent-instructions/README.md)

## 📚 משאבים טקטיים

📖 [הפכו את הסוכן שלכם לאוטונומי ב-Copilot Studio](https://learn.microsoft.com/training/modules/autonomous-agents-online-workshop/?WT.mc_id=power-188561-ebenitez)

📖 [הוספת הפעלת אירוע](https://learn.microsoft.com/microsoft-copilot-studio/authoring-trigger-event?WT.mc_id=power-188561-ebenitez)

📖 [שימוש בזרימות סוכן עם הסוכן שלכם](https://learn.microsoft.com/microsoft-copilot-studio/advanced-flow?WT.mc_id=power-188561-ebenitez)

📖 [מבוא להפעלות ב-Power Automate](https://learn.microsoft.com/power-automate/triggers-introduction?WT.mc_id=power-188561-ebenitez)

📖 [שימוש בזרימות Power Automate עם סוכנים](https://learn.microsoft.com/microsoft-copilot-studio/advanced-flow-create?WT.mc_id=power-188561-ebenitez)

📖 [מניעת אובדן נתונים עבור Copilot Studio](https://learn.microsoft.com/microsoft-copilot-studio/admin-data-loss-prevention?WT.mc_id=power-188561-ebenitez)

---

**הצהרת אחריות**:  
מסמך זה תורגם באמצעות שירות תרגום AI [Co-op Translator](https://github.com/Azure/co-op-translator). למרות שאנו שואפים לדיוק, יש לקחת בחשבון שתרגומים אוטומטיים עשויים להכיל שגיאות או אי דיוקים. המסמך המקורי בשפתו המקורית צריך להיחשב כמקור סמכותי. למידע קריטי, מומלץ להשתמש בתרגום מקצועי אנושי. איננו אחראים לאי הבנות או לפרשנויות שגויות הנובעות משימוש בתרגום זה.